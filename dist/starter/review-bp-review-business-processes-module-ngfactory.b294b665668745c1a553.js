(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"/72/":function(n,e,t){"use strict";var l=t("CcnG"),i=t("132j"),o=t("sU9O"),a=t("KKxe"),u=t("gIcY"),s=t("1pUY"),r=t("bbFK"),c=t("biaL"),d=t("tr7A"),p=t("1ut8"),g=t("Ip0R"),h=t("M4jF"),f=t("kQEY");t.d(e,"a",(function(){return S}));var m=l["\u0275crt"]({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{font-size:.875rem}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:0!important;box-shadow:none!important}strong[_ngcontent-%COMP%]{font-weight:500}input[_ngcontent-%COMP%]::-ms-clear{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-ms-reveal{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-webkit-search-cancel-button, input[_ngcontent-%COMP%]::-webkit-search-decoration, input[_ngcontent-%COMP%]::-webkit-search-results-button, input[_ngcontent-%COMP%]::-webkit-search-results-decoration{display:none}.bp-tags-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:12px;line-height:16px;color:#777}.bp-tags-container[_ngcontent-%COMP%], .bp-tags-empty[_ngcontent-%COMP%]{min-height:300px}"]],data:{}});function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"ngx-skeleton-loader",[["appearance","line"],["count","1"]],null,null,null,i.b,i.a)),l["\u0275did"](2,114688,null,0,o.a,[],{count:[0,"count"],appearance:[1,"appearance"]},null)],(function(n,e){n(e,2,0,"1","line")}),null)}function b(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","bp-tags-empty d-flex justify-content-center"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["No tags available for this record."]))],null,null)}function C(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"ta-tags-selector",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selectedTagsChange"],[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0,o=n.component;return"submit"===e&&(i=!1!==l["\u0275nov"](n,1).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,1).onReset()&&i),"selectedTagsChange"===e&&(i=!1!==o.selectedTagsChange(t)&&i),i}),a.b,a.a)),l["\u0275did"](1,540672,null,0,u.k,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,u.b,null,[u.k]),l["\u0275did"](3,16384,null,0,u.r,[[4,u.b]],null,null),l["\u0275did"](4,245760,[[1,4]],0,s.a,[u.b,u.f,r.a,c.a],{thereAreTagsBP:[0,"thereAreTagsBP"],baseDomainId:[1,"baseDomainId"],baseDomainType:[2,"baseDomainType"],preselectedTags:[3,"preselectedTags"],lastElementPlacementTop:[4,"lastElementPlacementTop"],allTags:[5,"allTags"]},{selectedTagsChange:"selectedTagsChange"})],(function(n,e){var t=e.component;n(e,1,0,t.tagFormsGroup),n(e,4,0,t.thereAreTagsBP,t.businessProcessId,t.baseDomainTypeEnum.BusinessProcess,t.selectedTags,!0,t.allTags)}),(function(n,e){n(e,0,0,l["\u0275nov"](e,3).ngClassUntouched,l["\u0275nov"](e,3).ngClassTouched,l["\u0275nov"](e,3).ngClassPristine,l["\u0275nov"](e,3).ngClassDirty,l["\u0275nov"](e,3).ngClassValid,l["\u0275nov"](e,3).ngClassInvalid,l["\u0275nov"](e,3).ngClassPending)}))}function y(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"span",[["aria-hidden","true"],["class","spinner-border spinner-border-sm ml-auto text-secondary"],["role","status"]],null,null,null,null,null))],null,null)}function w(n){return l["\u0275vid"](0,[l["\u0275qud"](671088640,1,{tagsSelector:0}),(n()(),l["\u0275eld"](1,0,null,null,7,"div",[["class","modal-header"],["data-cy","bp-tags-modal"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"h4",[["class","modal-title"],["data-cy","modal-title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Tags "])),(n()(),l["\u0275eld"](4,0,null,null,2,"ta-badge",[["class","badge-custom-nav-items align-top mt-1"]],[[8,"className",0]],null,null,d.jb,d.z)),l["\u0275did"](5,573440,null,0,p.fc,[p.gc],{values:[0,"values"],class:[1,"class"]},null),l["\u0275pid"](131072,g.AsyncPipe,[l.ChangeDetectorRef]),(n()(),l["\u0275eld"](7,0,null,null,1,"button",[["aria-label","Close"],["class","close"],["data-cy","modal-close"],["type","button"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.dismissModal()&&l),l}),null,null)),(n()(),l["\u0275eld"](8,0,null,null,0,"i",[["class","ta ta-close"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,7,"div",[["class","modal-body modal-scroll"]],null,null,null,null,null)),(n()(),l["\u0275eld"](10,0,null,null,6,"div",[["class","form-group bp-tags-container"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,v)),l["\u0275did"](12,16384,null,0,g.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,b)),l["\u0275did"](14,16384,null,0,g.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,C)),l["\u0275did"](16,16384,null,0,g.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](17,0,null,null,8,"div",[["class","modal-footer align-items-start justify-content-start"]],null,null,null,null,null)),(n()(),l["\u0275eld"](18,0,null,null,2,"button",[["class","mr-auto"],["data-dismiss","modal"],["id","modal-cancel"],["taButton",""],["taType","flat"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0,o=n.component;return"focus"===e&&(i=!1!==l["\u0275nov"](n,19).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,19).onMouseLeave()&&i),"click"===e&&(i=!1!==o.dismissModal()&&i),i}),d.U,d.k)),l["\u0275did"](19,573440,null,0,p.Gb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275ted"](-1,0,[" Cancel "])),(n()(),l["\u0275eld"](21,0,null,null,4,"button",[["id","modal-submit"],["taButton",""],["taType","primary"],["type","button"]],[[8,"disabled",0],[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0,o=n.component;return"focus"===e&&(i=!1!==l["\u0275nov"](n,22).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,22).onMouseLeave()&&i),"click"===e&&(i=!1!==o.saveTags()&&i),i}),d.U,d.k)),l["\u0275did"](22,573440,null,0,p.Gb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275ted"](-1,0,[" Save "])),(n()(),l["\u0275and"](16777216,null,0,1,null,y)),l["\u0275did"](25,16384,null,0,g.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,5,0,l["\u0275unv"](e,5,0,l["\u0275nov"](e,6).transform(t.tagsCount$)),"badge-custom-nav-items align-top mt-1"),n(e,12,0,t.isFetching),n(e,14,0,!t.thereAreTagsBP&&!t.isFetching),n(e,16,0,t.thereAreTagsBP),n(e,19,0,"flat"),n(e,22,0,"primary"),n(e,25,0,t.isShowingSpinner)}),(function(n,e){var t=e.component;n(e,4,0,l["\u0275nov"](e,5).className),n(e,18,0,l["\u0275nov"](e,19).className),n(e,21,0,0===t.selectedTags.length,l["\u0275nov"](e,22).className)}))}function x(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ta-business-process-tags",[],null,null,null,w,m)),l["\u0275did"](1,245760,null,0,h.a,[p.e,u.f,f.a],null,null)],(function(n,e){n(e,1,0)}),null)}var S=l["\u0275ccf"]("ta-business-process-tags",h.a,x,{businessProcessId:"businessProcessId"},{},[])},"10+N":function(n,e,t){"use strict";t.r(e);var l=t("CcnG"),i=function(){return function(){}}(),o=t("tr7A"),a=t("py1L"),u=t("Z4lR"),s=t("VX/K"),r=t("/72/"),c=t("MMEF"),d=t("abML"),p=t("pMnS"),g=t("1ut8"),h=t("Ip0R"),f=t("NQgJ"),m=t("tR8B"),v=t("PTJf"),b=t("ZYCi"),C=t("4B+E"),y=t("54QL"),w=t("zmqE"),x=t("kQEY"),S=t("1TgF"),I=t("gIcY"),T=t("Axip"),P=t("JPCe"),R=t("9pHD"),F=t("mrSG"),O=t("K9Ia"),k=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(F.c)(e,n),e}(function(){function n(){this.emitChangeSource=new O.a,this.changeEmitted$=this.emitChangeSource.asObservable()}return n.prototype.emitChange=function(n){this.emitChangeSource.next(n)},n.ngInjectableDef=l.defineInjectable({factory:function(){return new n},token:n,providedIn:"root"}),n}()),M=[{label:"Business Process",url:"background",title:"Business Process Record Background"},{label:"Final Review",url:"review",title:"Final Review"}],E=t("fTqk"),N=function(){function n(n,e,t,l){this.router=n,this.activatedRoute=e,this.reviewStepService=t,this.reviewStepContainerService=l}return n.prototype.ngOnInit=function(){var n=this;this.setCurrentUrlData(),this._routerChange$=this.router.events.subscribe((function(e){e instanceof b.e?n.reviewStepService.emitChange("navigation"):e instanceof b.d&&n.setCurrentUrlData()}))},n.prototype.ngOnDestroy=function(){},n.prototype.saveReviewForm=function(){this.reviewStepContainerService.emitChange("navigation")},n.prototype.setCurrentUrlData=function(){var n=this;this.currentUrl=_.last(this.router.url.split("/")),this.currentIndex=M.findIndex((function(e){return e.url===n.currentUrl})),this.currentTitle=M[this.currentIndex]?M[this.currentIndex].title:""},n.prototype.navigateToNewUrl=function(n){var e=this.currentIndex+n;M[e]&&this.navigate(M[e].url)},n.prototype.navigate=function(n){this.router.navigate([n],{relativeTo:this.activatedRoute})},Object(F.b)([Object(E.a)(["_routerChange$","_onSubmit$"])],n)}(),D=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function V(n){return l["\u0275vid"](0,[l["\u0275ncd"](null,0),(n()(),l["\u0275eld"](1,0,null,null,15,"ta-page-footer-nav",[],null,null,null,P.b,P.a)),l["\u0275did"](2,114688,null,0,R.a,[],{currentFormValidity:[0,"currentFormValidity"]},null),(n()(),l["\u0275eld"](3,0,null,1,1,"span",[["class","stepper"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Review Step "])),(n()(),l["\u0275eld"](5,0,null,0,3,"button",[["class","page-cancel btn-lg"],["routerLink","/business-process"],["taButton",""],["taType","link"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,6).onClick()&&i),"focus"===e&&(i=!1!==l["\u0275nov"](n,7).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,7).onMouseLeave()&&i),i}),o.U,o.k)),l["\u0275did"](6,16384,null,0,b.o,[b.n,b.a,[8,null],l.Renderer2,l.ElementRef],{routerLink:[0,"routerLink"]},null),l["\u0275did"](7,573440,null,0,g.Gb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275ted"](-1,0,[" Exit "])),(n()(),l["\u0275eld"](9,0,null,2,3,"button",[["class","page-prev btn-lg mr-2"],["data-cy","back"],["routerLink","security-and-risks"],["taButton",""],["taType","secondary"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0,o=n.component;return"click"===e&&(i=!1!==l["\u0275nov"](n,10).onClick()&&i),"focus"===e&&(i=!1!==l["\u0275nov"](n,11).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,11).onMouseLeave()&&i),"click"===e&&(i=!1!==o.saveReviewForm()&&i),i}),o.U,o.k)),l["\u0275did"](10,16384,null,0,b.o,[b.n,b.a,[8,null],l.Renderer2,l.ElementRef],{routerLink:[0,"routerLink"]},null),l["\u0275did"](11,573440,null,0,g.Gb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275ted"](-1,0,[" Back "])),(n()(),l["\u0275eld"](13,0,null,3,3,"button",[["class","page-next btn-lg"],["data-cy","finish"],["routerLink","/business-process"],["taButton",""],["taType","primary"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,14).onClick()&&i),"focus"===e&&(i=!1!==l["\u0275nov"](n,15).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,15).onMouseLeave()&&i),i}),o.U,o.k)),l["\u0275did"](14,16384,null,0,b.o,[b.n,b.a,[8,null],l.Renderer2,l.ElementRef],{routerLink:[0,"routerLink"]},null),l["\u0275did"](15,573440,null,0,g.Gb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275ted"](-1,0,[" Finish "]))],(function(n,e){n(e,2,0,!0),n(e,6,0,"/business-process"),n(e,7,0,"link"),n(e,10,0,"security-and-risks"),n(e,11,0,"secondary"),n(e,14,0,"/business-process"),n(e,15,0,"primary")}),(function(n,e){n(e,5,0,l["\u0275nov"](e,7).className),n(e,9,0,l["\u0275nov"](e,11).className),n(e,13,0,l["\u0275nov"](e,15).className)}))}var A=t("9tKR"),U=t("jFoF"),L=t("psW0"),B=(t("ElT0"),function(){function n(n,e,t,l){this.router=n,this.featureFlagControllerService=e,this.createBusinessProcessesService=t,this.businessProcessService=l,this.licenses={},this.record={},this.isFetching=!1,this.businessProcessNavigation=A.a}return n.prototype.ngOnInit=function(){var n=this,e=this.router.url.split("/")[2];this.pageSteps=M,this.isFetching=!0,this.businessProcessService.getBackground(e).pipe(Object(L.a)((function(e){return n.record=e,n.featureFlagControllerService.getAllFeatureFlags()}))).subscribe((function(e){n.licenses=e,n.isFetching=!1}),(function(e){console.error("There was an error in obtaining the bp record:",e),n.isFetching=!1}))},n.prototype.navigate=function(n){var e=_.last(this.router.url.split("/"));this.router.navigate([this.router.url.replace(e,n)])},n.prototype.navigate12Header=function(n){var e=this;if("cancel"===n||"home"===n)this.router.navigateByUrl("/business-process");else{var t=_.last(this.router.url.split("/"));this.router.navigate([this.router.url.replace(t,n)]).then((function(){e.createBusinessProcessesService.setSelectedStep(n)}))}},n}()),$=l["\u0275crt"]({encapsulation:2,styles:[[".heading{font-size:1.75rem;font-weight:500;font-style:normal;margin-bottom:.5rem}.sub-heading{font-size:.875rem;font-weight:500;margin-bottom:.75rem}.data-label{margin-bottom:7px}.record-details-container{padding-top:1rem;display:block;width:656px;margin:0 auto;padding-bottom:5rem}.record-details-container .tab-pane{padding-left:0;padding-right:0}.card{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card .card-header{font-size:.875rem}button,input,textarea{outline:0!important;box-shadow:none!important}strong{font-weight:500}input::-ms-clear{display:none;width:0;height:0}input::-ms-reveal{display:none;width:0;height:0}input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none}ta-create-bp,ta-review-bp{padding-bottom:60px;display:block}ta-create-bp ta-steps,ta-review-bp ta-steps{margin-top:1rem;margin-bottom:1rem}ta-review-bp ta-page-nav ta-page-nav-default.active:before{content:'\\2605';font-size:1.125rem;padding-top:1px}ta-review-bp ta-steps{display:block;overflow:hidden;min-height:58px;padding:15px 0;position:relative;z-index:0;justify-content:center;text-align:center;margin:1rem auto 0}ta-review-bp ta-steps .ta-step.active .ta-step-label{font-weight:400}ta-review-bp ta-steps .active{position:relative}ta-review-bp ta-steps .active .ta-step-num{font-size:0}ta-review-bp ta-steps .active .star{font-size:24px;position:absolute;top:11px;left:3px;color:#fff}"]],data:{}});function j(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"span",[["class","star"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" \u2b51 "]))],null,null)}function G(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"ta-step",[],[[1,"class",0]],[[null,"click"]],(function(n,e,t){var i=!0,o=n.component;return"click"===e&&(l["\u0275nov"](n.parent,1).setActiveStep(n.context.index+1),i=!1!==o.navigate(n.context.$implicit.url)&&i),i}),o.P,o.f)),l["\u0275did"](1,2146304,[[1,4]],0,g.cb,[g.db],{stepNumber:[0,"stepNumber"]},null),(n()(),l["\u0275ted"](2,0,[" "," "])),(n()(),l["\u0275and"](16777216,null,0,1,null,j)),l["\u0275did"](4,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,1,0,e.context.index+1),n(e,4,0,e.context.$implicit.label===t.pageSteps[1].label)}),(function(n,e){n(e,0,0,"ta-step d-flex justify-content-center align-items-center"+(l["\u0275nov"](e,1).status?" "+l["\u0275nov"](e,1).status:"")),n(e,2,0,e.context.$implicit.label)}))}function z(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"ta-steps",[],[[1,"class",0]],null,null,o.Q,o.g)),l["\u0275did"](1,573440,[["taStep",4]],1,g.db,[],{activeStep:[0,"activeStep"]},null),l["\u0275qud"](603979776,1,{steps:1}),(n()(),l["\u0275and"](16777216,null,0,1,null,G)),l["\u0275did"](4,278528,null,0,h.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){var t=e.component;n(e,1,0,2),n(e,4,0,t.pageSteps)}),(function(n,e){n(e,0,0,"ta-steps d-flex"+(l["\u0275nov"](e,1).theme?" "+l["\u0275nov"](e,1).theme:"")+(l["\u0275nov"](e,1).stepStyle?" "+l["\u0275nov"](e,1).stepStyle:""))}))}function H(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ta-business-process-wizard-header",[["style","margin-bottom:.5rem"]],[[8,"className",0]],[[null,"isClickSteps"]],(function(n,e,t){var l=!0;return"isClickSteps"===e&&(l=!1!==n.component.navigate12Header(t)&&l),l}),f.b,f.a)),l["\u0275did"](1,245760,null,0,m.a,[v.a,g.G,b.a,b.n,C.a,y.a,w.a,x.a,S.a,I.f,T.b,g.Fb,g.G],{currentRoute:[0,"currentRoute"],record:[1,"record"]},{isClickSteps:"isClickSteps"})],(function(n,e){var t=e.component;n(e,1,0,t.businessProcessNavigation[5],t.record)}),(function(n,e){n(e,0,0,l["\u0275nov"](e,1).classes)}))}function q(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,z)),l["\u0275did"](1,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,H)),l["\u0275did"](3,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](4,0,null,null,4,"ta-review-step-container",[],null,null,null,V,D)),l["\u0275prd"](512,null,k,k,[]),l["\u0275did"](6,245760,null,0,N,[b.n,b.a,k,k],null,null),(n()(),l["\u0275eld"](7,16777216,null,0,1,"router-outlet",[],null,null,null,null,null)),l["\u0275did"](8,212992,null,0,b.r,[b.b,l.ViewContainerRef,l.ComponentFactoryResolver,[8,null],l.ChangeDetectorRef],null,null)],(function(n,e){var t=e.component;n(e,1,0,!t.isFetching&&!t.licenses.RHEA_NEW_UI_STEPS_12_LICENSE),n(e,3,0,!t.isFetching&&t.licenses.RHEA_NEW_UI_STEPS_12_LICENSE&&t.businessProcessNavigation[5]),n(e,6,0),n(e,8,0)}),null)}function W(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ta-review-bp",[],null,null,null,q,$)),l["\u0275did"](1,114688,null,0,B,[b.n,C.a,S.a,U.a],null,null)],(function(n,e){n(e,1,0)}),null)}var Z=l["\u0275ccf"]("ta-review-bp",B,W,{},{},[]),K=t("vWFL"),Y=t("OI/C"),J=function(){function n(){}return n.prototype.transform=function(n,e,t){return void 0===e&&(e=0),void 0===t&&(t=6),_.chunk(n,t)[e]},n}(),X=function(n,e){for(var t=0,l=e.length;t<l;++t){var i=e[t];if(!(i in n))return;n=n[i]?n[i]:""}return n},Q=function(n,e){for(var t=[],l=2;l<arguments.length;l++)t[l-2]=arguments[l];var i=t.shift();if(!i.length)throw new Error("a key was provided as an empty string");var o=!1;if("-"===i.charAt(0)){if(i.length<1)throw new Error("a descending key was missing the key name");i=i.substr(1),o=!0}var a=i&&-1!==i.indexOf("."),u=a?i.split("."):[];if(!n.hasOwnProperty(i=a&&u.length>1?u[0]:i)||!e.hasOwnProperty(i))throw new Error("a key you are attempting to sort by is not on all objects");var s=o?-1:1;if(a){if(X(n,u)>X(e,u))return 1*s;if(X(n,u)<X(e,u))return-1*s}return n[i]>e[i]?1*s:n[i]<e[i]?-1*s:t.length?Q.apply(void 0,[n,e].concat(t)):0},nn=function(n,e){for(var t=[],l=2;l<arguments.length;l++)t[l-2]=arguments[l];if(!t.length)throw new Error("provide at least one key to sort by");return n.sort((function(n,l){return Q.apply(void 0,e&&l?[l,n].concat(t):[n,l].concat(t))})),n},en=function(){function n(){}return n.prototype.transform=function(n,e){for(var t=[],l=2;l<arguments.length;l++)t[l-2]=arguments[l];return nn.apply(void 0,[n.slice(),e].concat(t))},n}(),tn=t("26FU"),ln=function(){function n(n,e){this.activatedRoute=n,this.taPaginationConfig=e,this.tableDataInput=[],this.tableChanged=new l.EventEmitter,this.tableId="REVIEW_TABLE",this.totalRows=0,this.pageSize=5,this.currentPage=1,this.SORT_DEFAULT="category",this.sortProperty=this.SORT_DEFAULT,this.sortOrder=!0,this.legalBasisStyleClass="legal-basis-class",this.legalBasisPopoverStyleClass="legal-basis-popover-class",this.activatedRoute.parent&&(this.businessProcessId=this.activatedRoute.parent.snapshot.params.id)}return n.prototype.ngOnInit=function(){this.taPaginationConfig.paginatorRows=[5,25,50,75,100,200],this.tableDataSubject=new tn.a(this.tableDataInput),this.tableData$=this.tableDataSubject.asObservable(),this.legalBasisOptions=this.mapLegalBasisforCategoricalDropDownOptions(this.legalBasesInput)},n.prototype.ngAfterViewInit=function(){},n.prototype.ngOnDestroy=function(){},n.prototype.mapLegalBasisforCategoricalDropDownOptions=function(n){return _(n).groupBy((function(n){return n.category})).map((function(n,e){return{id:e,label:e,items:n.map((function(n){return{id:n.id,label:n.shortName}}))}})).value()},n.prototype.onChangePage=function(n){this.currentPage=n},n.prototype.onChangeMax=function(n){this.pageSize=n,this.tableDataSubject.next(this.tableDataInput),this.tableChanged.emit(this.tableDataInput)},n.prototype.selectLegalBasis=function(n){var e=this;this.associatedProcessingPurposeId&&(this.tableDataInput.find((function(n){return n.processingPurposeId===e.associatedProcessingPurposeId})).legalBasis={id:n.id,label:n.label},this.associatedProcessingPurposeId=null,this.tableDataSubject.next(this.tableDataInput),this.tableChanged.emit(this.tableDataInput)),this.popovers.forEach((function(n){return n.close()}))},n.prototype.popOverProcessingPurpose=function(n){this.associatedProcessingPurposeId=n},n.prototype.onSort=function(n){this.sortProperty=n.column,this.sortOrder="asc"===n.direction,this.tableDataSubject.next(this.tableDataInput),this.tableChanged.emit(this.tableDataInput)},Object(F.b)([Object(E.a)(["_legalBasisOptions$","_processingPurposes$"])],n)}(),on=l["\u0275crt"]({encapsulation:2,styles:[[".card{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card .card-header{font-size:.875rem}button,input,textarea{outline:0!important;box-shadow:none!important}strong{font-weight:500}input::-ms-clear{display:none;width:0;height:0}input::-ms-reveal{display:none;width:0;height:0}input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none}.legal-basis-item{overflow:visible}.legal-basis-item .wraptext{overflow:visible!important}.custom-dropDownButton{max-width:182px}ta-table-cell.ta-table-cell.legal-basis-item{padding:0!important}.legal-basis-popover-class{width:400px;max-width:400px;margin-top:0!important}.legal-basis-popover-class .arrow{display:none}.legal-basis-popover-class .popover-body{padding:0}ta-table-cell>span>ta-badge>.badge-custom{background-color:#b35bc6;text-transform:uppercase;margin-left:5px;height:16px;width:58px}ta-review-table .legal-basis-dropdown{max-width:160px}"]],data:{}});function an(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ta-badge",[["type","custom"],["values","Custom"]],[[8,"className",0]],null,null,o.jb,o.z)),l["\u0275did"](1,573440,null,0,g.fc,[g.gc],{type:[0,"type"],values:[1,"values"]},null)],(function(n,e){n(e,1,0,"custom","Custom")}),(function(n,e){n(e,0,0,l["\u0275nov"](e,1).className)}))}function un(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ta-badge",[["type","custom"],["values","Custom"]],[[8,"className",0]],null,null,o.jb,o.z)),l["\u0275did"](1,573440,null,0,g.fc,[g.gc],{type:[0,"type"],values:[1,"values"]},null)],(function(n,e){n(e,1,0,"custom","Custom")}),(function(n,e){n(e,0,0,l["\u0275nov"](e,1).className)}))}function sn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,23,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,16777216,null,null,22,"ta-table-row",[],[[1,"data-cy",0],[1,"class",0]],null,null,o.cb,o.s)),l["\u0275did"](2,5357568,[[4,4]],2,g.Sb,[g.kb,l.ViewContainerRef,l.ElementRef],{taItem:[0,"taItem"]},null),l["\u0275qud"](603979776,11,{_cells:1}),l["\u0275qud"](335544320,12,{_detail:0}),(n()(),l["\u0275eld"](5,16777216,null,null,4,"ta-table-cell",[],[[1,"class",0],[2,"ta-table-cell-hidden",null],[4,"max-width","px"]],null,null,o.bb,o.r)),l["\u0275did"](6,8503296,[[11,4]],0,g.Pb,[g.kb,l.ViewContainerRef,l.ElementRef,l.ChangeDetectorRef],null,null),(n()(),l["\u0275ted"](7,0,[" "," "])),(n()(),l["\u0275and"](16777216,null,0,1,null,an)),l["\u0275did"](9,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](10,16777216,null,null,4,"ta-table-cell",[],[[1,"class",0],[2,"ta-table-cell-hidden",null],[4,"max-width","px"]],null,null,o.bb,o.r)),l["\u0275did"](11,8503296,[[11,4]],0,g.Pb,[g.kb,l.ViewContainerRef,l.ElementRef,l.ChangeDetectorRef],null,null),(n()(),l["\u0275ted"](12,0,[" "," "])),(n()(),l["\u0275and"](16777216,null,0,1,null,un)),l["\u0275did"](14,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](15,16777216,null,null,8,"ta-table-cell",[],[[1,"class",0],[2,"ta-table-cell-hidden",null],[4,"max-width","px"]],null,null,o.bb,o.r)),l["\u0275did"](16,8503296,[[11,4]],0,g.Pb,[g.kb,l.ViewContainerRef,l.ElementRef,l.ChangeDetectorRef],null,null),(n()(),l["\u0275eld"](17,16777216,null,0,6,"div",[["container","body"]],null,[[null,"shown"]],(function(n,e,t){var l=!0;return"shown"===e&&(l=!1!==n.component.popOverProcessingPurpose(n.context.$implicit.processingPurposeId)&&l),l}),null,null)),l["\u0275did"](18,737280,[[2,4]],0,g.Q,[l.ElementRef,l.Renderer2,l.Injector,l.ComponentFactoryResolver,l.ViewContainerRef,g.R,l.NgZone,h.DOCUMENT],{autoClose:[0,"autoClose"],taPopover:[1,"taPopover"],placement:[2,"placement"],container:[3,"container"],popoverClass:[4,"popoverClass"]},{shown:"shown"}),l["\u0275pad"](19,2),(n()(),l["\u0275eld"](20,0,null,null,3,"button",[["class","w-100 d-block custom-dropDownButton "],["data-cy","select-legal-basis"],["taButton",""],["taType","dropdown"],["type","button"]],[[8,"className",0]],[[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0;return"focus"===e&&(i=!1!==l["\u0275nov"](n,21).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,21).onMouseLeave()&&i),i}),o.U,o.k)),l["\u0275did"](21,573440,null,0,g.Gb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275eld"](22,16777216,null,0,1,"span",[["class","text-truncate mr-1 placeholder-text d-block"],["container","body"],["placement","right-bottom"],["tooltipTheme","light"]],[[8,"innerText",0]],null,null,null,null)),l["\u0275did"](23,212992,null,0,g.yb,[l.ElementRef,l.Renderer2,l.Injector,l.ComponentFactoryResolver,l.ViewContainerRef,g.zb,l.NgZone,h.DOCUMENT],{placement:[0,"placement"],container:[1,"container"],tooltipTheme:[2,"tooltipTheme"],taTooltip:[3,"taTooltip"]},null),(n()(),l["\u0275and"](0,null,null,0))],(function(n,e){var t=e.component;n(e,2,0,e.context.$implicit),n(e,6,0),n(e,9,0,e.context.$implicit.isCustom),n(e,11,0),n(e,14,0,e.context.$implicit.isCustom),n(e,16,0);var i=l["\u0275nov"](e.parent.parent,7),o=n(e,19,0,"bottom-right","top-right");n(e,18,0,"outside",i,o,"body",t.legalBasisPopoverStyleClass),n(e,21,0,"dropdown"),n(e,23,0,"right-bottom","body","light",e.context.$implicit&&e.context.$implicit.legalBasis&&e.context.$implicit.legalBasis.label?e.context.$implicit.legalBasis.label:"")}),(function(n,e){n(e,1,0,e.context.$implicit.category+" "+e.context.$implicit.processingPurpose,"ta-table-row-wrapper"),n(e,5,0,"ta-table-cell d-flex align-items-top"+(l["\u0275nov"](e,6).class?" "+l["\u0275nov"](e,6).class:""),!l["\u0275nov"](e,6).taVisible,l["\u0275nov"](e,6).taWidth),n(e,7,0,e.context.$implicit.category),n(e,10,0,"ta-table-cell d-flex align-items-top"+(l["\u0275nov"](e,11).class?" "+l["\u0275nov"](e,11).class:""),!l["\u0275nov"](e,11).taVisible,l["\u0275nov"](e,11).taWidth),n(e,12,0,e.context.$implicit.processingPurpose),n(e,15,0,"ta-table-cell d-flex align-items-top"+(l["\u0275nov"](e,16).class?" "+l["\u0275nov"](e,16).class:""),!l["\u0275nov"](e,16).taVisible,l["\u0275nov"](e,16).taWidth),n(e,20,0,l["\u0275nov"](e,21).className),n(e,22,0,e.context.$implicit&&e.context.$implicit.legalBasis&&e.context.$implicit.legalBasis.label?e.context.$implicit.legalBasis.label:"Select")}))}function rn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"ta-pagination",[["class","ta-pagination-wrapper d-flex align-self-center"],["role","navigation"],["showingType","full"]],null,[[null,"pageChange"],[null,"onChangePageSize"]],(function(n,e,t){var l=!0,i=n.component;return"pageChange"===e&&(l=!1!==(i.currentPage=t)&&l),"pageChange"===e&&(l=!1!==i.onChangePage(t)&&l),"onChangePageSize"===e&&(l=!1!==i.onChangeMax(t)&&l),l}),o.N,o.d)),l["\u0275did"](1,573440,null,0,g.K,[g.L],{boundaryLinks:[0,"boundaryLinks"],ellipses:[1,"ellipses"],rotate:[2,"rotate"],collectionSize:[3,"collectionSize"],maxSize:[4,"maxSize"],page:[5,"page"],pageSize:[6,"pageSize"],showingType:[7,"showingType"]},{pageChange:"pageChange",onChangePageSize:"onChangePageSize"}),l["\u0275pid"](131072,h.AsyncPipe,[l.ChangeDetectorRef])],(function(n,e){var t,i=e.component;n(e,1,0,!0,!0,!0,null==(t=l["\u0275unv"](e,1,3,l["\u0275nov"](e,2).transform(i.tableData$)))?null:t.length,1,i.currentPage,i.pageSize,"full")}),null)}function cn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,28,"ta-table",[["class","ta-table-wrapper-border"]],[[1,"class",0],[2,"ta-table-loading",null],[2,"ta-table-loaded",null],[2,"ta-table-expandable",null],[2,"server-process",null]],[[null,"onSort"],["window","resize"]],(function(n,e,t){var i=!0,o=n.component;return"window:resize"===e&&(i=!1!==l["\u0275nov"](n,1).onResize(t)&&i),"onSort"===e&&(i=!1!==o.onSort(t)&&i),i}),o.S,o.h)),l["\u0275did"](1,4964352,null,8,g.kb,[l.ElementRef,g.Eb],{id:[0,"id"],class:[1,"class"],serverProcess:[2,"serverProcess"]},{onSort:"onSort"}),l["\u0275qud"](603979776,3,{_columns:1}),l["\u0275qud"](603979776,4,{_rows:1}),l["\u0275qud"](603979776,5,{_cells:1}),l["\u0275qud"](603979776,6,{_footer:1}),l["\u0275qud"](603979776,7,{_search:1}),l["\u0275qud"](603979776,8,{_showHide:1}),l["\u0275qud"](603979776,9,{_toolbar:1}),l["\u0275qud"](603979776,10,{_filter:1}),(n()(),l["\u0275eld"](10,16777216,null,null,2,"ta-table-column",[["taField","category"],["taWidth","160"]],[[1,"class",0],[4,"max-width","px"],[4,"min-width","px"],[4,"width","px"],[2,"ta-table-cell-hidden",null]],[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,11).onClick()&&i),i}),o.R,o.i)),l["\u0275did"](11,4308992,[[3,4]],0,g.lb,[g.kb,l.ViewContainerRef,l.ElementRef,l.Renderer2],{taField:[0,"taField"],taWidth:[1,"taWidth"]},null),(n()(),l["\u0275ted"](-1,0,["Category"])),(n()(),l["\u0275eld"](13,16777216,null,null,2,"ta-table-column",[["taField","processingPurpose"],["taWidth","260"]],[[1,"class",0],[4,"max-width","px"],[4,"min-width","px"],[4,"width","px"],[2,"ta-table-cell-hidden",null]],[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,14).onClick()&&i),i}),o.R,o.i)),l["\u0275did"](14,4308992,[[3,4]],0,g.lb,[g.kb,l.ViewContainerRef,l.ElementRef,l.Renderer2],{taField:[0,"taField"],taWidth:[1,"taWidth"]},null),(n()(),l["\u0275ted"](-1,0,[" Processing Purpose "])),(n()(),l["\u0275eld"](16,16777216,null,null,2,"ta-table-column",[["taField","legalBasis.label"]],[[1,"class",0],[4,"max-width","px"],[4,"min-width","px"],[4,"width","px"],[2,"ta-table-cell-hidden",null]],[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,17).onClick()&&i),i}),o.R,o.i)),l["\u0275did"](17,4308992,[[3,4]],0,g.lb,[g.kb,l.ViewContainerRef,l.ElementRef,l.Renderer2],{taField:[0,"taField"]},null),(n()(),l["\u0275ted"](-1,0,["Legal Basis"])),(n()(),l["\u0275and"](16777216,null,null,4,null,sn)),l["\u0275did"](20,278528,null,0,h.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),l["\u0275pid"](131072,h.AsyncPipe,[l.ChangeDetectorRef]),l["\u0275ppd"](22,4),l["\u0275ppd"](23,3),(n()(),l["\u0275eld"](24,16777216,null,null,4,"ta-table-footer",[],[[1,"class",0]],null,null,o.X,o.n)),l["\u0275did"](25,114688,[[6,4]],0,g.Lb,[l.ViewContainerRef],null,null),(n()(),l["\u0275and"](16777216,null,0,2,null,rn)),l["\u0275did"](27,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,h.AsyncPipe,[l.ChangeDetectorRef])],(function(n,e){var t=e.component;n(e,1,0,t.tableId,"ta-table-wrapper-border",!1),n(e,11,0,"category","160"),n(e,14,0,"processingPurpose","260"),n(e,17,0,"legalBasis.label");var i,o=l["\u0275unv"](e,20,0,n(e,23,0,l["\u0275nov"](e.parent,0),l["\u0275unv"](e,20,0,n(e,22,0,l["\u0275nov"](e.parent,1),l["\u0275unv"](e,20,0,l["\u0275nov"](e,21).transform(t.tableData$)),t.sortOrder,t.sortProperty,t.sortProperty)),t.currentPage-1,t.pageSize));n(e,20,0,o),n(e,25,0),n(e,27,0,(null==(i=l["\u0275unv"](e,27,0,l["\u0275nov"](e,28).transform(t.tableData$)))?null:i.length)>0)}),(function(n,e){n(e,0,0,"ta-table-wrapper"+(l["\u0275nov"](e,1).class?" "+l["\u0275nov"](e,1).class:""),"loading"==l["\u0275nov"](e,1).status,"loaded"==l["\u0275nov"](e,1).status,l["\u0275nov"](e,1).taExpandable,l["\u0275nov"](e,1).serverProcess),n(e,10,0,(l["\u0275nov"](e,11).taResize?"resizable ":"")+"ta-table-cell d-flex"+(l["\u0275nov"](e,11).taField?" sortable":"")+(l["\u0275nov"](e,11).class?" "+l["\u0275nov"](e,11).class:"")+" "+l["\u0275nov"](e,11).filterCss()+(""!==l["\u0275nov"](e,11).filterCss()?" current-column-sort":""),l["\u0275nov"](e,11).taWidth,l["\u0275nov"](e,11).taWidth,l["\u0275nov"](e,11).taWidth,!l["\u0275nov"](e,11).taVisible),n(e,13,0,(l["\u0275nov"](e,14).taResize?"resizable ":"")+"ta-table-cell d-flex"+(l["\u0275nov"](e,14).taField?" sortable":"")+(l["\u0275nov"](e,14).class?" "+l["\u0275nov"](e,14).class:"")+" "+l["\u0275nov"](e,14).filterCss()+(""!==l["\u0275nov"](e,14).filterCss()?" current-column-sort":""),l["\u0275nov"](e,14).taWidth,l["\u0275nov"](e,14).taWidth,l["\u0275nov"](e,14).taWidth,!l["\u0275nov"](e,14).taVisible),n(e,16,0,(l["\u0275nov"](e,17).taResize?"resizable ":"")+"ta-table-cell d-flex"+(l["\u0275nov"](e,17).taField?" sortable":"")+(l["\u0275nov"](e,17).class?" "+l["\u0275nov"](e,17).class:"")+" "+l["\u0275nov"](e,17).filterCss()+(""!==l["\u0275nov"](e,17).filterCss()?" current-column-sort":""),l["\u0275nov"](e,17).taWidth,l["\u0275nov"](e,17).taWidth,l["\u0275nov"](e,17).taWidth,!l["\u0275nov"](e,17).taVisible),n(e,24,0,"ta-table-foot")}))}function dn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"ta-categorical-view",[["class","not-in-dropdown border-0"],["idPrefix","legalBasis"],["placeHolder","Search"],["reselectable","true"]],null,[[null,"itemSelected"],["document","click"]],(function(n,e,t){var i=!0,o=n.component;return"document:click"===e&&(i=!1!==l["\u0275nov"](n,2).clickOut(t)&&i),"itemSelected"===e&&(i=!1!==o.selectLegalBasis(t)&&i),i}),K.b,K.a)),l["\u0275prd"](5120,null,I.o,(function(n){return[n]}),[Y.a]),l["\u0275did"](2,638976,[[1,4],["categoricalViewComponent",4]],0,Y.a,[l.ElementRef],{idPrefix:[0,"idPrefix"],openByDefault:[1,"openByDefault"],placeHolder:[2,"placeHolder"],reselectable:[3,"reselectable"],showCategoryItemCount:[4,"showCategoryItemCount"],styleClass:[5,"styleClass"],data:[6,"data"]},{itemSelected:"itemSelected"})],(function(n,e){var t=e.component;n(e,2,0,"legalBasis",!0,"Search","true",!1,t.legalBasisStyleClass,t.legalBasisOptions)}),null)}function pn(n){return l["\u0275vid"](0,[l["\u0275pid"](0,J,[]),l["\u0275pid"](0,en,[]),l["\u0275qud"](671088640,1,{categoricalViewComponent:0}),l["\u0275qud"](671088640,2,{popovers:1}),(n()(),l["\u0275and"](16777216,null,null,2,null,cn)),l["\u0275did"](5,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,h.AsyncPipe,[l.ChangeDetectorRef]),(n()(),l["\u0275and"](0,[["popContent",2]],null,0,null,dn))],(function(n,e){var t=e.component;n(e,5,0,l["\u0275unv"](e,5,0,l["\u0275nov"](e,6).transform(t.tableData$)))}),null)}var gn=t("Cr54"),hn=t("/KSa"),fn=t("p0ib"),mn=t("Gi3i"),vn=t("/PH2"),bn=t("67Y/"),Cn=t("lEz/"),yn=t("t/Na"),wn=function(){function n(n,e,t){this.httpClient=n,this.businessProcessService=e,this.businessProcessControllerService=t,this.isUpdatingSubject=new tn.a(!1)}return n.prototype.getIsUpdatingSubject=function(){return this.isUpdatingSubject},n.prototype.updateBusinessProcess=function(n){return n.name=n.name?n.name.trim():"",Object(Cn.b)(this.businessProcessService.updateBackground(n),this.isUpdatingSubject)},n.prototype.getApproval=function(n){var e=this,t=this.businessProcessControllerService.getApprovalById(n),l=this.httpClient.get("/api/hub/legal-bases");return t.pipe(Object(vn.a)(l),Object(bn.a)((function(n){var t=n[0],l=n[1];return{id:t.id,version:t.version,name:t.name,identifier:t.identifier,status:t.status,dataRows:e.mapReviewTableRowInterfaceArray(t.processingPurposes,l,t.associations),legalBasisRows:l}})))},n.prototype.getLegalBasisOptions=function(){return this.httpClient.get("/api/hub/legal-bases")},n.prototype.mapReviewTableRowInterfaceArray=function(n,e,t){return n.map((function(n){var l={category:n.category.replace(/([a-z])([A-Z])/g,"$1 $2"),processingPurpose:n.name,processingPurposeId:n.id,isCustom:n.isCustom,isCategoryCustom:n.isCategoryCustom,legalBasis:{label:null,id:null}},i=t.find((function(e){return e.processingPurposeId===n.id}));if(i){var o=e.find((function(n){return n.id===i.legalBasisId}));o&&(l.legalBasis.id=o.id,l.legalBasis.label=o.shortName)}return l}))},n.prototype.mapProcessingPurposesAssociations=function(n){return n.map((function(n){return{legalBasisId:n.legalBasis.id,processingPurposeId:n.processingPurposeId}})).filter((function(n){return null!==n.legalBasisId}))},n.prototype.saveBusinessProcessApproval=function(n,e,t,l,i){var o={associations:this.mapProcessingPurposesAssociations(n),id:t,status:e,version:l};return this.businessProcessControllerService.updateApproval(o,i)},n.ngInjectableDef=l.defineInjectable({factory:function(){return new n(l.inject(yn.c),l.inject(U.a),l.inject(w.a))},token:n,providedIn:"root"}),n}(),xn=[{id:"DRAFT",name:"Draft"},{id:"IN_REVIEW",name:"In review"},{id:"PUBLISH",name:"Publish"},{id:"REVISE",name:"Revise"}],Sn=function(){function n(n,e,t,l,i,o,a,u){this.reviewStepContainerService=n,this.formBuilder=e,this.router=t,this.activatedRoute=l,this.stepFinalReviewService=i,this.toastService=o,this.businessProcessService=a,this.clipboardService=u,this.isNextButtonDisabled=!1,this.stepFinalReviewForm=e.group({id:[null,[I.v.required]],version:null,status:null}),this.bpId="",this.businessProcess={},this.bpStatuses=xn,this.tableDataUpdateSubject$=new O.a}return n.prototype.ngOnInit=function(){var n=this;this.activatedRoute.snapshot&&(this.bpId=this.activatedRoute.snapshot.parent.params.id),this._savedDataSubscription$&&this._savedDataSubscription$.unsubscribe(),this.getApprovalRecord(),this._navigationSubscription$&&this._navigationSubscription$.unsubscribe(),this._navigationSubscription$=this.reviewStepContainerService.changeEmitted$.subscribe((function(e){"navigation"===e&&n.save()}))},n.prototype.ngOnDestroy=function(){},n.prototype.getApprovalRecord=function(){var n=this;this.stepFinalReviewService.getApproval(this.bpId).subscribe((function(e){n.stepFinalReviewForm.get("id").patchValue(e.id),n.version=e.version,n.businessProcess.name=e.name,n.businessProcess.identifier=e.identifier,n.updateTableData(e),n.stepFinalReviewForm.markAsUntouched(),n.setAutosave()}),(function(){return n.toastService.error("Error retrieving business processes and legal bases")}))},n.prototype.updateTableData=function(n){var e=_.keyBy(this.bpStatuses,"id");e[n.status]&&this.stepFinalReviewForm.get("status").patchValue(e[n.status]),this.legalBases=n.legalBasisRows,this.tableData=n.dataRows,this.tableDataUpdateSubject$.next(this.tableData)},n.prototype.setAutosave=function(){this._formChangeSubscription$=Object(fn.a)(this.stepFinalReviewForm.valueChanges,this.tableDataUpdateSubject$).pipe(Object(mn.a)(S.a.AUTOREFRESH_INTERVAL_MS/2)).subscribe(this.save.bind(this))},Object.defineProperty(n.prototype,"form",{get:function(){return this.stepFinalReviewForm.controls},enumerable:!0,configurable:!0}),n.prototype.canDeactivate=function(n,e,t,l){return!0},n.prototype.tableDataUpdated=function(n){this.tableData=n,this.tableDataUpdateSubject$.next()},n.prototype.copyUrl=function(){this.clipboardService.copyFromContent(window.location.href),this.toastService.success("Copied to clipboard: "+window.location.href,null,1e4)},n.prototype.onSubmit=function(){this.save()},n.prototype.save=function(){var n=this,e=this.stepFinalReviewForm.get("status").value,t=this.stepFinalReviewForm.get("id").value;this.tableData&&(this._saveResponseSubscription$&&this._saveResponseSubscription$.unsubscribe(),this.isSaving||(this.isSaving=!0,this.stepFinalReviewService.saveBusinessProcessApproval(this.tableData,e.id,t,this.version,this.bpId).subscribe((function(e){n.isSaving=!1,n.stepFinalReviewForm.get("id").patchValue(e.id,{emitEvent:!1}),n.version=e.version}),(function(n){console.error(n)}))))},Object(F.b)([Object(E.a)(["_paramMap$","_navigationSubscription$","_saveResponseSubscription$","_savedDataSubscription$","_formChangeSubscription$"])],n)}(),In=l["\u0275crt"]({encapsulation:2,styles:[[".card{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card .card-header{font-size:.875rem}button,input,textarea{outline:0!important;box-shadow:none!important}strong{font-weight:500}input::-ms-clear{display:none;width:0;height:0}input::-ms-reveal{display:none;width:0;height:0}input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none}ta-step-final-review .review-step-section-container .final-review-header{font-size:1rem;font-weight:500}ta-step-final-review .review-step-section-container a{font-size:14px}ta-step-final-review .ta-accordion-body{padding:0}ta-step-final-review .ta-accordion-body .accordion-content-table{box-shadow:0 1px 4px 0 rgba(0,0,0,.15);background-color:#fff;border:1px solid #f1f1f1;border-radius:4px}ta-step-final-review .ta-accordion-body .accordion-content-table .ta-table-wrapper-border{border:unset;border-radius:unset}ta-step-final-review .ta-accordion-body .accordion-content-table .accordion-ol{margin:0;padding:12px 30px}ta-step-final-review .ta-accordion .ta-accordion-header ta-icon{position:absolute;right:2rem}ta-step-final-review .ta-accordion-button{padding:0!important;margin-bottom:1rem!important}ta-step-final-review .ta-table-cell .btn{min-width:100%!important}"]],data:{}});function Tn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","sub-heading mb-2 mt-0 "]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" If reviewing this business process record, expand and complete the steps outlined. "]))],null,null)}function Pn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ta-review-table",[],null,[[null,"tableChanged"]],(function(n,e,t){var l=!0;return"tableChanged"===e&&(l=!1!==n.component.tableDataUpdated(t)&&l),l}),pn,on)),l["\u0275did"](1,4440064,null,0,ln,[b.a,g.L],{tableDataInput:[0,"tableDataInput"],legalBasesInput:[1,"legalBasesInput"]},{tableChanged:"tableChanged"})],(function(n,e){var t=e.component;n(e,1,0,t.tableData,t.legalBases)}),null)}function Rn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,11,"div",[["class","accordion-content-table"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,8,"ol",[["class","m-0 accordion-ol"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,5,"li",[["class","review-step-text text-wrap"]],null,null,null,null,null)),(n()(),l["\u0275ted"](3,null,[" Review the business process "," (BP Record ID ",") and make any necessary updates. "])),(n()(),l["\u0275eld"](4,0,null,null,2,"a",[["routerLink","../background"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,5).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),null,null)),l["\u0275did"](5,671744,null,0,b.p,[b.n,b.a,h.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275ted"](6,null,[" Click here to open page 1 of "," (BP Record ID ",")"])),(n()(),l["\u0275ted"](-1,null,[" to begin your review "])),(n()(),l["\u0275eld"](8,0,null,null,1,"li",[["class","review-step-text"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Select a legal basis for each processing purpose that this business process uses "])),(n()(),l["\u0275and"](16777216,null,null,1,null,Pn)),l["\u0275did"](11,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,5,0,"../background"),n(e,11,0,t.tableData)}),(function(n,e){var t=e.component;n(e,3,0,t.businessProcess.name,t.businessProcess.identifier),n(e,4,0,l["\u0275nov"](e,5).target,l["\u0275nov"](e,5).href),n(e,6,0,t.businessProcess.name,t.businessProcess.identifier)}))}function Fn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,39,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0,o=n.component;return"submit"===e&&(i=!1!==l["\u0275nov"](n,2).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,2).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.onSubmit()&&i),i}),null,null)),l["\u0275did"](1,16384,null,0,I.x,[],null,null),l["\u0275did"](2,540672,null,0,I.k,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,I.b,null,[I.k]),l["\u0275did"](4,16384,null,0,I.r,[[4,I.b]],null,null),(n()(),l["\u0275eld"](5,0,null,null,34,"div",[["class","record-details-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,32,"div",[["class","col"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,7,"div",[["class","review-step-section-container p-2"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,1,"div",[["class","final-review-header mb-3"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Great Job! "])),(n()(),l["\u0275eld"](11,0,null,null,1,"div",[["class","final-review-header mb-3"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Copy the link below to send this business process to a reviewer, and update the status below to \u201cIn review.\u201d "])),(n()(),l["\u0275eld"](13,0,null,null,2,"div",[["class","p-3 text-center mb-3"]],null,null,null,null,null)),(n()(),l["\u0275eld"](14,0,null,null,1,"a",[["class","link"],["role","link"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.copyUrl()&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Click here to copy the link to this business process. "])),(n()(),l["\u0275eld"](16,0,null,null,11,"div",[["class","review-step-section-container mb-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](17,0,null,null,10,"ta-accordion",[["activeIds","assessment-table"],["class","accordion"],["role","tablist"]],[[1,"aria-multiselectable",0]],null,null,o.K,o.a)),l["\u0275did"](18,2146304,null,1,g.b,[g.c],{activeIds:[0,"activeIds"]},null),l["\u0275qud"](603979776,1,{panels:1}),(n()(),l["\u0275eld"](20,0,null,null,7,"ta-panel",[["id","assessment-table"]],null,null,null,null,null)),l["\u0275did"](21,2113536,[[1,4]],2,g.N,[],{id:[0,"id"]},null),l["\u0275qud"](603979776,2,{titleTpls:1}),l["\u0275qud"](603979776,3,{contentTpls:1}),(n()(),l["\u0275and"](0,null,null,1,null,Tn)),l["\u0275did"](25,16384,[[2,4]],0,g.P,[l.TemplateRef],null,null),(n()(),l["\u0275and"](0,null,null,1,null,Rn)),l["\u0275did"](27,16384,[[3,4]],0,g.O,[l.TemplateRef],null,null),(n()(),l["\u0275eld"](28,0,null,null,11,"div",[["class","review-step-section-container p-2 pt-0"]],null,null,null,null,null)),(n()(),l["\u0275eld"](29,0,null,null,1,"div",[["class","sub-heading mb-2 mt-0"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Update the status for this business process. "])),(n()(),l["\u0275eld"](31,0,null,null,1,"div",[["class","align-text-bottom"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Status"])),(n()(),l["\u0275eld"](33,0,null,null,6,"div",[["class","w-50"]],null,null,null,null,null)),(n()(),l["\u0275eld"](34,0,null,null,5,"ta-dropdown-field",[["class","d-block wp-100 mt-2"],["data-cy","business-process-status"],["formControlName","status"],["optionLabel","name"]],[[2,"multiple-value-dropdown",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,gn.b,gn.a)),l["\u0275did"](35,49152,null,0,hn.a,[],{optionLabel:[0,"optionLabel"],options:[1,"options"],selectedOption:[2,"selectedOption"]},null),l["\u0275prd"](1024,null,I.o,(function(n){return[n]}),[hn.a]),l["\u0275did"](37,671744,null,0,I.i,[[3,I.b],[8,null],[8,null],[6,I.o],[2,I.z]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,I.p,null,[I.i]),l["\u0275did"](39,16384,null,0,I.q,[[4,I.p]],null,null)],(function(n,e){var t=e.component;n(e,2,0,t.stepFinalReviewForm),n(e,18,0,"assessment-table"),n(e,21,0,"assessment-table"),n(e,35,0,"name",t.bpStatuses,t.stepFinalReviewForm.get("status").value),n(e,37,0,"status")}),(function(n,e){n(e,0,0,l["\u0275nov"](e,4).ngClassUntouched,l["\u0275nov"](e,4).ngClassTouched,l["\u0275nov"](e,4).ngClassPristine,l["\u0275nov"](e,4).ngClassDirty,l["\u0275nov"](e,4).ngClassValid,l["\u0275nov"](e,4).ngClassInvalid,l["\u0275nov"](e,4).ngClassPending),n(e,17,0,!l["\u0275nov"](e,18).closeOtherPanels),n(e,34,0,l["\u0275nov"](e,35).isMultiple,l["\u0275nov"](e,39).ngClassUntouched,l["\u0275nov"](e,39).ngClassTouched,l["\u0275nov"](e,39).ngClassPristine,l["\u0275nov"](e,39).ngClassDirty,l["\u0275nov"](e,39).ngClassValid,l["\u0275nov"](e,39).ngClassInvalid,l["\u0275nov"](e,39).ngClassPending)}))}function On(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ta-step-final-review",[],null,null,null,Fn,In)),l["\u0275did"](1,245760,null,0,Sn,[k,I.f,b.n,b.a,wn,g.Fb,U.a,T.b],null,null)],(function(n,e){n(e,1,0)}),null)}var kn=l["\u0275ccf"]("ta-step-final-review",Sn,On,{},{},[]),Mn=t("q05c"),_n=t("A7o+"),En=t("bbFK"),Nn=t("VkSW"),Dn=t("imvL"),Vn=t("39qw"),An=t("7S2b"),Un=t("YTTk"),Ln=t("87pa"),Bn=t("JGws"),$n=t("sU9O"),jn=t("Sjbp"),Gn=t("1idO"),zn=t("PlHd"),Hn=t("KZui"),qn=t("IRfE"),Wn=t("GoJX"),Zn=t("LV1M"),Kn=t("YPog"),Yn=t("iq6R"),Jn=t("Oj96"),Xn=t("AToc"),Qn=t("/6ch"),ne=(t("h15D"),function(){return function(){}}()),ee=t("UgFf"),te=t("PW+A"),le=t("vUL0"),ie=t("Hp6d"),oe=t("wuE9"),ae=t("wCrf"),ue=t("K2xx"),se=t("4pma"),re=t("pQz8"),ce=function(){return function(){}}(),de=function(){return function(){}}();t.d(e,"ReviewBusinessProcessesModuleNgFactory",(function(){return pe}));var pe=l["\u0275cmf"](i,[],(function(n){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[o.Bb,o.Kb,o.rb,o.pb,o.Eb,o.Mb,o.Pb,o.J,o.xb,o.I,o.Ab,o.tb,o.zb,o.ub,o.yb,o.wb,o.sb,o.vb,o.G,a.a,u.a,s.a,r.a,c.a,o.Sb,d.a,p.a,Z,kn,o.Gb,o.Cb,o.Db,o.H]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,h.NgLocalization,h.NgLocaleLocalization,[l.LOCALE_ID,[2,h["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,I.f,I.f,[]),l["\u0275mpd"](4608,I.y,I.y,[]),l["\u0275mpd"](4608,Mn.a,Mn.a,[y.a,I.f,g.Fb,_n.j]),l["\u0275mpd"](4608,g.Eb,g.Eb,[]),l["\u0275mpd"](4608,yn.r,yn.r,[]),l["\u0275mpd"](6144,yn.n,null,[yn.r]),l["\u0275mpd"](4608,yn.j,yn.j,[yn.n]),l["\u0275mpd"](6144,yn.b,null,[yn.j]),l["\u0275mpd"](4608,yn.g,yn.o,[yn.b,l.Injector]),l["\u0275mpd"](4608,yn.c,yn.c,[yn.g]),l["\u0275mpd"](4608,En.a,En.a,[yn.c]),l["\u0275mpd"](4608,yn.k,yn.u,[h.DOCUMENT,l.PLATFORM_ID,yn.s]),l["\u0275mpd"](4608,yn.v,yn.v,[yn.k,yn.t]),l["\u0275mpd"](5120,yn.a,(function(n,e){return[n,new Nn.a(e)]}),[yn.v,Dn.a]),l["\u0275mpd"](4608,B,B,[b.n,C.a,S.a,U.a]),l["\u0275mpd"](4608,k,k,[]),l["\u0275mpd"](135680,Sn,Sn,[k,I.f,b.n,b.a,wn,g.Fb,U.a,T.b]),l["\u0275mpd"](4608,Vn.a,Vn.a,[]),l["\u0275mpd"](4608,An.a,An.a,[]),l["\u0275mpd"](4608,g.G,g.G,[l.ComponentFactoryResolver,l.Injector,g.Yb,g.H]),l["\u0275mpd"](1073742336,h.CommonModule,h.CommonModule,[]),l["\u0275mpd"](1073742336,g.gb,g.gb,[]),l["\u0275mpd"](1073742336,g.i,g.i,[]),l["\u0275mpd"](1073742336,g.k,g.k,[]),l["\u0275mpd"](1073742336,g.C,g.C,[]),l["\u0275mpd"](1073742336,g.qb,g.qb,[]),l["\u0275mpd"](1073742336,Un.VirtualScrollerModule,Un.VirtualScrollerModule,[]),l["\u0275mpd"](1073742336,g.Ab,g.Ab,[]),l["\u0275mpd"](1073742336,Ln.a,Ln.a,[]),l["\u0275mpd"](1073742336,Bn.a,Bn.a,[]),l["\u0275mpd"](1073742336,I.w,I.w,[]),l["\u0275mpd"](1073742336,I.u,I.u,[]),l["\u0275mpd"](1073742336,$n.b,$n.b,[]),l["\u0275mpd"](1073742336,jn.a,jn.a,[]),l["\u0275mpd"](1073742336,I.m,I.m,[]),l["\u0275mpd"](1073742336,g.p,g.p,[]),l["\u0275mpd"](1073742336,g.F,g.F,[]),l["\u0275mpd"](1073742336,g.E,g.E,[]),l["\u0275mpd"](1073742336,g.mb,g.mb,[]),l["\u0275mpd"](1073742336,g.z,g.z,[]),l["\u0275mpd"](1073742336,Gn.a,Gn.a,[]),l["\u0275mpd"](1073742336,zn.a,zn.a,[]),l["\u0275mpd"](1073742336,Hn.a,Hn.a,[]),l["\u0275mpd"](1073742336,qn.a,qn.a,[]),l["\u0275mpd"](1073742336,Wn.a,Wn.a,[]),l["\u0275mpd"](1073742336,Zn.a,Zn.a,[]),l["\u0275mpd"](1073742336,Kn.a,Kn.a,[]),l["\u0275mpd"](1073742336,yn.f,yn.f,[]),l["\u0275mpd"](1073742336,yn.e,yn.e,[]),l["\u0275mpd"](1073742336,Yn.a,Yn.a,[]),l["\u0275mpd"](1073742336,Jn.a,Jn.a,[]),l["\u0275mpd"](1073742336,g.S,g.S,[]),l["\u0275mpd"](1073742336,Xn.a,Xn.a,[]),l["\u0275mpd"](1073742336,Qn.a,Qn.a,[]),l["\u0275mpd"](1073742336,T.a,T.a,[]),l["\u0275mpd"](1073742336,b.q,b.q,[[2,b.w],[2,b.n]]),l["\u0275mpd"](1073742336,ne,ne,[]),l["\u0275mpd"](1073742336,g.pb,g.pb,[]),l["\u0275mpd"](1073742336,g.xb,g.xb,[]),l["\u0275mpd"](1073742336,ee.a,ee.a,[]),l["\u0275mpd"](1073742336,te.a,te.a,[]),l["\u0275mpd"](1073742336,le.a,le.a,[]),l["\u0275mpd"](1073742336,ie.a,ie.a,[]),l["\u0275mpd"](1073742336,oe.a,oe.a,[]),l["\u0275mpd"](1073742336,ae.a,ae.a,[]),l["\u0275mpd"](1073742336,ue.a,ue.a,[]),l["\u0275mpd"](1073742336,se.a,se.a,[]),l["\u0275mpd"](1073742336,g.d,g.d,[]),l["\u0275mpd"](1073742336,g.I,g.I,[]),l["\u0275mpd"](1073742336,g.V,g.V,[]),l["\u0275mpd"](1073742336,g.M,g.M,[]),l["\u0275mpd"](1073742336,re.a,re.a,[]),l["\u0275mpd"](1073742336,ce,ce,[]),l["\u0275mpd"](1073742336,de,de,[]),l["\u0275mpd"](1073742336,g.eb,g.eb,[]),l["\u0275mpd"](1073742336,i,i,[]),l["\u0275mpd"](256,yn.s,"XSRF-TOKEN",[]),l["\u0275mpd"](256,yn.t,"X-XSRF-TOKEN",[]),l["\u0275mpd"](1024,b.l,(function(){return[[{path:"",component:B,children:[{path:"review",component:Sn,canDeactivate:[Sn],data:{title:"Review",header:!0,aaaNavLink:"Business Processes"}}]}]]}),[])])}))},"132j":function(n,e,t){"use strict";t.d(e,"a",(function(){return o})),t.d(e,"b",(function(){return u}));var l=t("CcnG"),i=(t("sU9O"),t("Ip0R")),o=l["\u0275crt"]({encapsulation:0,styles:[".loader[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;-webkit-animation:2s ease-in-out infinite progress;animation:2s ease-in-out infinite progress;background:0 0/200px 100% no-repeat #eff1f6;background-image:-webkit-gradient(linear,left top,right top,from(rgba(255,255,255,0)),color-stop(rgba(255,255,255,.6)),to(rgba(255,255,255,0)));background-image:linear-gradient(90deg,rgba(255,255,255,0),rgba(255,255,255,.6),rgba(255,255,255,0));border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}@-webkit-keyframes progress{0%{background-position:-200px 0}100%{background-position:calc(200px + 100%) 0}}@keyframes progress{0%{background-position:-200px 0}100%{background-position:calc(200px + 100%) 0}}"],data:{}});function a(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"span",[["class","loader"]],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{circle:0}),l["\u0275did"](3,278528,null,0,i.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null)],(function(n,e){var t=e.component,l=n(e,2,0,"circle"===t.appearance);n(e,1,0,"loader",l),n(e,3,0,t.styles)}),null)}function u(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,a)),l["\u0275did"](1,278528,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){n(e,1,0,e.component.items)}),null)}},"1pUY":function(n,e,t){"use strict";t.d(e,"a",(function(){return f}));var l=t("mrSG"),i=t("CcnG"),o=t("gIcY"),a=t("4uUY"),u=t("K9Ia"),s=t("F/XL"),r=t("vubp"),c=t("Gi3i"),d=t("ad02"),p=t("psW0"),g=t("xMyE"),h=(t("bbFK"),t("fTqk")),f=(t("biaL"),function(){function n(n,e,t,l){var o=this;this.controlContainer=n,this.formBuilder=e,this.tagsSelectorService=t,this.userService=l,this.selectedTagsChange=new i.EventEmitter,this.endOfListReached=!1,this.currentUserPage=0,this.loadingList=!1,this.userBuffer=33,this.lastEndIndex=0,this.isLoadingTags=!1,this.currentSearchTerm="",this.thereAreTagsBP=!1,this.preselectedTags=[],this.lastElementPlacementTop=!1,this.allTags=[],this.selectedTags=[],this.userTags=[],this.searchTextChanged=new u.a,this.tagGroupFormArray=this.formBuilder.array([]),this.tagGroupFormArray.valueChanges.subscribe((function(n){var e=o.extractTagsFromFormControls();o.selectedTagsChange.emit(e)}))}return Object.defineProperty(n.prototype,"baseDomainId",{get:function(){return this._baseDomainId},set:function(n){this._baseDomainId=n,this._baseDomainId&&!this.isLoadingTags&&this.getSelectedTags().subscribe()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"baseDomainType",{get:function(){return this._baseDomainType},set:function(n){this._baseDomainType=n,this.thereAreTagsBP||this.getTags().subscribe()},enumerable:!0,configurable:!0}),n.prototype.debounceSearch=function(n){this.searchTextChanged.next(n)},n.prototype.ngOnInit=function(){var n=this;this.isLoadingTags||this.getSelectedTags().pipe(Object(r.a)(1500)).subscribe((function(){return n.updateFormFields()})),this._getSearchedUsersSubscription$=this.searchTextChanged.pipe(Object(c.a)(1e3),Object(d.a)(),Object(p.b)((function(e){return n.searchUsers(e,0)}))).subscribe((function(e){var t=e.content||[];n.userTags=n.updateUserOptionsListWithResponse(t),n.loadingList=!1,t.length<100&&(n.endOfListReached=!0)})),this.tagGroupFormGroup=this.controlContainer.control,this.tagGroupFormGroup.registerControl("tagGroupFormArray",this.tagGroupFormArray),this.debounceSearch("")},n.prototype.ngOnDestroy=function(){},n.prototype.updateFormFields=function(){var n=this;this.createFormBasedOnTagGroups(this.allTags),this.moveSelectedTagsIntoFormControls(_.cloneDeep(this.selectedTags)),this.tagGroupFormArray.value.length&&this.tagGroupFormArray.value.forEach((function(e){Array.isArray(e.selected)&&n.setSelection(e.selected,e.values)}))},n.prototype.getTags=function(){var n=this;return this.tagsSelectorService.getAllTags(this.baseDomainType,!0).pipe(Object(g.a)((function(e){n.allTags=e,n.updateFormFields()})))},n.prototype.getSelectedTags=function(){var n=this;return void 0===this.baseDomainId?(this.preselectedTags.length>0&&(this.selectedTags=this.preselectedTags,this.selectedTagsChange.emit(this.selectedTags),this.updateFormFields()),Object(s.a)([])):(this.isLoadingTags=!0,this.tagsSelectorService.getSelectedTags(this.baseDomainId).pipe(Object(g.a)((function(e){n.selectedTags=e,n.selectedTagsChange.emit(n.selectedTags),n.updateFormFields(),n.isLoadingTags=!1}))))},n.prototype.moveSelectedTagsIntoFormControls=function(n){var e=this.tagGroupFormArray;n.forEach((function(n){var t;for(t=0;t<e.length;t++){var l=e.at(t).value;if(l.id===n.id){var i="SELECTABLE"===l.tagGroupType||"USER"===l.tagGroupType;i&&!l.multipleValuesAllowed?e.at(t).patchValue({selected:n.values[0]}):i&&l.multipleValuesAllowed?e.at(t).patchValue({selected:n.values}):"TEXT"===l.tagGroupType&&e.at(t).patchValue({selected:n.values[0].tag})}}}))},n.prototype.extractTagsFromFormControls=function(){var n=[];return this.tagGroupFormArray.getRawValue().forEach((function(e){var t="SELECTABLE"===e.tagGroupType||"USER"===e.tagGroupType;if(t&&e.multipleValuesAllowed&&e.selected&&e.selected.length>0)n.push({id:e.id,tagGroupType:e.tagGroupType,values:e.selected});else if(t&&!e.multipleValuesAllowed&&e.selected&&e.selected.id){var l=e.selected;n.push({id:e.id,tagGroupType:e.tagGroupType,values:[{id:l.id,tag:l.tag,externalId:l.externalId}]})}else if("TEXT"===e.tagGroupType&&!e.multipleValuesAllowed){var i=e.selected;i&&i.length>0&&n.push({id:e.id,tagGroupType:e.tagGroupType,values:[{id:i,tag:i}]})}})),this.selectedTags.map((function(e){if(!n.find((function(n){return n.id===e.id}))){var t=_.cloneDeep(e);t.values=[],n.push(t)}})),n},n.prototype.createFormBasedOnTagGroups=function(n){var e=this,t=(n=n||[]).map((function(n){var t;t="TEXT"===n.tagGroupType?new o.g("",o.v.maxLength(255)):n.multipleValuesAllowed?[]:null;var l=!1;return n.values.forEach((function(n){n&&n.children&&n.children.length&&(l=!0)})),Object(a.b)(e.formBuilder,{tagGroupName:n.tagGroupName,id:n.id,tagGroupType:n.tagGroupType,multipleValuesAllowed:n.multipleValuesAllowed,values:n.values,selected:t,hasChildren:l})}));Object(a.d)(this.tagGroupFormArray,t)},n.prototype.setSelection=function(n,e){n.forEach((function(n){var t=function(e){e.forEach((function(e){e.id===n.id&&(e.selected=!0),e.values&&e.values.length&&t(e.values),e.children&&e.children.length&&t(e.children)}))};t(e)}))},n.prototype.requestForInfiniteList=function(n){var e=this,t=n.endIndex,l=t&&t>=this.userTags.length-this.userBuffer&&t>=this.lastEndIndex;this.lastEndIndex=t,!l||this.endOfListReached||-1===t||this.loadingList||(this.currentUserPage++,this.searchUsers(this.currentSearchTerm,this.currentUserPage).subscribe((function(n){e.userTags=e.userTags.concat(e.updateUserOptionsListWithResponse(n.content)),e.loadingList=!1,e.endOfListReached=n.last})))},n.prototype.searchUsers=function(n,e){return""!==n||e||(this.lastEndIndex=0,this.endOfListReached=!1),this.loadingList=!0,this.currentSearchTerm=n,this.currentUserPage=e||0,this.userService.getUsersResponse(n,this.currentUserPage)},n.prototype.updateUserOptionsListWithResponse=function(n){return n.map((function(n){return{id:n.id,tag:n.name+" - "+n.email}})).sort((function(n,e){return n.tag.toLowerCase()<e.tag.toLowerCase()?-1:1}))},n.prototype.isChanged=function(){var n=this.extractTagsFromFormControls(),e=this.selectedTags;return n.length!==e.length||0!==n.length&&!n.every((function(n,t){var l=e[t],i=l.values.length===n.values.length,o=n.values.every((function(n,e){return _.isEqual(n,l.values[e])}));return i&&o}))},n.prototype.save=function(){return this.isChanged()?this.tagsSelectorService.updateTags(this.baseDomainId,this.extractTagsFromFormControls()):Object(s.a)({})},Object(l.b)([Object(h.a)(["_getSearchedUsersSubscription$"])],n)}())},"39qw":function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){function n(){this.selectedDataItems=[]}return n.prototype.addSelectedDataItem=function(n){this.selectedDataItems.push(n)},n.prototype.setSelectedDataItems=function(n){this.selectedDataItems=n},n.prototype.getSelectedDataItems=function(){return this.selectedDataItems||[]},n.prototype.clearAllSelectedDataItems=function(){this.setSelectedDataItems([])},n.prototype.removeItemById=function(n){var e=this.selectedDataItems.filter((function(e){return e.id!==n}));this.setSelectedDataItems(e)},n.prototype.removeItemByNodeId=function(n){var e=this.selectedDataItems.filter((function(e){return e.nodeId!==n.nodeId}));this.setSelectedDataItems(e)},n.prototype.removeGroupedItems=function(n,e){var t=this.selectedDataItems.filter((function(t){return!(t.businessProcessId===n&&t.nodeId===e)}));this.setSelectedDataItems(t)},n}()},"4pma":function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){return function(){}}()},"5L+J":function(n,e,t){"use strict";t.d(e,"a",(function(){return s}));var l=t("mrSG"),i=t("gIcY"),o=(t("q05c"),t("ElT0"),t("fTqk")),a=t("XvOt"),u=t("xMyE"),s=function(){function n(n,e,t,l){this.activeModal=n,this.formBuilder=e,this.baseRecordFileUploadService=t,this.businessProcessControllerService=l,this.isDeletingFile=!1}return n.prototype.ngOnInit=function(){var n=this;this.baseRecordFileUploadService.setSaveOnEveryChange(!0),this.notes=new i.g("",i.v.maxLength(1024)),this.attachmentsFormsGroup=this.formBuilder.group({placeholder:""}),this.notesAndAttachmentsFormsGroup=this.formBuilder.group({notes:this.notes,fileFormsGroup:this.attachmentsFormsGroup}),a.a.unSubscribe(this._attachmentCounts$),this._attachmentCounts$=this.baseRecordFileUploadService.countOfUploadedFiles.asObservable().subscribe((function(e){n.attachmentsCount=e})),this.businessProcessId&&(this.loadBusinessProcessNotes(),a.a.unSubscribe(this._attachmentUpdate$),this._attachmentUpdate$=this.baseRecordFileUploadService.update(this.businessProcessId).subscribe()),a.a.unSubscribe(this._isDeletingFile$),this._isDeletingFile$=this.baseRecordFileUploadService.isDeletingFile.asObservable().subscribe((function(e){n.isDeletingFile=e}))},Object.defineProperty(n.prototype,"isValid",{get:function(){return!!this.notesAndAttachmentsFormsGroup&&this.notesAndAttachmentsFormsGroup.valid},enumerable:!0,configurable:!0}),n.prototype.loadBusinessProcessNotes=function(){var n=this;a.a.unSubscribe(this._loadNotes$),this._loadNotes$=this.businessProcessControllerService.getBusinessProcessNotes(this.businessProcessId).subscribe((function(e){n.note=e,n.notes.patchValue(n.note.notes)}))},n.prototype.saveNotes=function(){var n=this;this.note.notes=this.notes.value,a.a.unSubscribe(this._saveNotes$),this._saveNotes$=this.businessProcessControllerService.updateBusinessProcessNotes(this.note,this.businessProcessId).pipe(Object(u.a)((function(e){var t={id:n.businessProcessId,version:e.version};a.a.unSubscribe(n._saveUploadFilesComments$),n._saveUploadFilesComments$=n.baseRecordFileUploadService.save(t).subscribe((function(){n.closeModal()}))}))).subscribe((function(n){}))},n.prototype.onSubmit=function(){this.isValid&&this.saveNotes()},n.prototype.closeModal=function(){this.activeModal.close(this.attachmentsCount)},n.prototype.onCancel=function(){this.activeModal.dismiss()},n.prototype.dismissModal=function(){this.activeModal.dismiss()},n.prototype.ngOnDestroy=function(){},Object(l.b)([Object(o.a)(["_attachmentUpdate$","_saveNotes$","_loadNotes$","_attachmentCounts$","_saveUploadFilesComments$","_isDeletingFile"])],n)}()},"7S2b":function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));var l=t("K9Ia"),i=function(){return function(){this.aside$=new l.a}}()},"9pHD":function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){function n(){this.currentFormValidity=!1}return n.prototype.ngOnInit=function(){},n}()},Axip:function(n,e,t){"use strict";var l=t("CcnG"),i=new l.InjectionToken("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:function(){return window}}:void 0),o=t("K9Ia"),a=t("Ip0R");t.d(e,"b",(function(){return u})),t.d(e,"a",(function(){return s}));var u=function(){function n(n,e){this.document=n,this.window=e,this.copySubject=new o.a,this.copyResponse$=this.copySubject.asObservable(),this.config={}}return n.prototype.configure=function(n){this.config=n},n.prototype.copy=function(n){if(!this.isSupported||!n)return this.pushCopyResponse({isSuccess:!1,content:n});var e=this.copyFromContent(n);return this.pushCopyResponse(e?{content:n,isSuccess:e}:{isSuccess:!1,content:n})},Object.defineProperty(n.prototype,"isSupported",{get:function(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window},enumerable:!0,configurable:!0}),n.prototype.isTargetValid=function(n){if(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement){if(n.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")},n.prototype.copyFromInputElement=function(n,e){void 0===e&&(e=!0);try{this.selectTarget(n);var t=this.copyText();return this.clearSelection(e?n:void 0,this.window),t&&this.isCopySuccessInIE11()}catch(l){return!1}},n.prototype.isCopySuccessInIE11=function(){var n=this.window.clipboardData;return!(n&&n.getData&&!n.getData("Text"))},n.prototype.copyFromContent=function(n,e){if(void 0===e&&(e=this.document.body),this.tempTextArea&&!e.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{e.appendChild(this.tempTextArea)}catch(l){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=n;var t=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement),t},n.prototype.destroy=function(n){void 0===n&&(n=this.document.body),this.tempTextArea&&(n.removeChild(this.tempTextArea),this.tempTextArea=void 0)},n.prototype.selectTarget=function(n){return n.select(),n.setSelectionRange(0,n.value.length),n.value.length},n.prototype.copyText=function(){return this.document.execCommand("copy")},n.prototype.clearSelection=function(n,e){n&&n.focus(),e.getSelection().removeAllRanges()},n.prototype.createTempTextArea=function(n,e){var t,l="rtl"===n.documentElement.getAttribute("dir");return(t=n.createElement("textarea")).style.fontSize="12pt",t.style.border="0",t.style.padding="0",t.style.margin="0",t.style.position="absolute",t.style[l?"right":"left"]="-9999px",t.style.top=(e.pageYOffset||n.documentElement.scrollTop)+"px",t.setAttribute("readonly",""),t},n.prototype.pushCopyResponse=function(n){this.copySubject.next(n)},n.prototype.pushCopyReponse=function(n){this.pushCopyResponse(n)},n.ngInjectableDef=Object(l.defineInjectable)({factory:function(){return new n(Object(l.inject)(a.DOCUMENT),Object(l.inject)(i,8))},token:n,providedIn:"root"}),n}(),s=function(){return function(){}}()},GoJX:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){return function(){}}()},Hp6d:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){return function(){}}()},JPCe:function(n,e,t){"use strict";var l=t("CcnG"),i=t("Ip0R");t("9pHD"),t.d(e,"a",(function(){return o})),t.d(e,"b",(function(){return u}));var o=l["\u0275crt"]({encapsulation:2,styles:[[".card{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card .card-header{font-size:.875rem}button,input,textarea{outline:0!important;box-shadow:none!important}strong{font-weight:500}input::-ms-clear{display:none;width:0;height:0}input::-ms-reveal{display:none;width:0;height:0}input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none}#main-container.platform-nav-collapsed ta-page-footer-nav{width:calc(100% - 60px)}#main-container.platform-nav-expanded ta-page-footer-nav{width:calc(100% - 224px)}ta-page-footer-nav{padding:1rem;background-color:#fff;border-top:1px solid #f1f1f1;transition:width .2s ease-out 0s;bottom:0;display:block;height:72px;right:0;position:fixed;z-index:10}ta-page-footer-nav .stepper{top:2px;right:0;bottom:0;left:0;width:80px}ta-page-footer-nav .nav-buttons div{display:inline}"]],data:{}});function a(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger mr-2"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" One or more fields need attention "]))],null,null)}function u(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,11,"div",[["class","d-flex justify-content-between position-relative"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),l["\u0275ncd"](null,0),(n()(),l["\u0275eld"](3,0,null,null,1,"div",[["class","stepper mx-auto position-absolute d-flex justify-content-center align-items-center text-center"]],null,null,null,null,null)),l["\u0275ncd"](null,1),(n()(),l["\u0275eld"](5,0,null,null,6,"div",[["class","d-flex nav-buttons"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,a)),l["\u0275did"](7,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](8,0,null,null,3,"div",[],null,null,null,null,null)),l["\u0275ncd"](null,2),l["\u0275ncd"](null,3),l["\u0275ncd"](null,4)],(function(n,e){n(e,7,0,!e.component.currentFormValidity)}),null)}},K2xx:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){return function(){}}()},KKxe:function(n,e,t){"use strict";var l=t("CcnG"),i=t("Cr54"),o=t("/KSa"),a=t("gIcY"),u=t("Ip0R"),s=t("tr7A"),r=t("1ut8"),c=t("fA5a"),d=function(){function n(){}return n.prototype.transform=function(n,e,t){return void 0===n&&(n=[]),t||e&&(n=n.filter((function(n){return n.id!==e.id}))),n},n}(),p=function(){function n(){this.isMultiSelect=!1,this.selectAllCheckedStatus=!0,this.selectAllIndeterminate=!1,this.dropdownHierarchyView=!1,this.dropdownHierarchyTitle="",this.dropdownHierarchyList={},this.dropdownHierarchyFlatTree=[],this.dropdownHierarchySearchFilter="",this.dropdownActiveOptions=[]}return n.prototype.ngOnInit=function(){if(this.isMultiSelect){var n=this.tagGroupForm.get("selected").value,e=this.tagGroupForm.get("values").value;n.forEach((function(n){e.forEach((function(e){e.tag===n.tag&&(e.selected=!0)}))})),this.dropdownActiveOptions=e,this.selectAllCheckedStatus=this.isFullSelection(),this.selectAllIndeterminate=this.isIndeterminateSelection()}},n.prototype.getActiveSelectionCount=function(){return this.dropdownActiveOptions.filter((function(n){return n.selected})).length},n.prototype.onDropdownHierarchySearch=function(n){this.dropdownHierarchySearchFilter=n},n.prototype.handleNoneSelection=function(){this.isMultiSelect||(this.tagGroupForm.get("selected").setValue([]),this.dropdownHierarchyRef.close())},n.prototype.isFullSelection=function(){var n=this.dropdownActiveOptions.length,e=this.dropdownActiveOptions.filter((function(n){return n.selected}));return!(!e.length||n!==e.length)},n.prototype.isIndeterminateSelection=function(){var n=this.dropdownActiveOptions.filter((function(n){return n.selected}));return!(!n.length||this.dropdownActiveOptions.length===n.length)},n.prototype.handleSelectAll=function(n){var e=this,t=n.target.checked;this.dropdownHierarchySearchFilter="",e.dropdownActiveOptions.forEach(t?function(l){l.selected=!0,t&&e.handleDropdownHierarchyChange(n,l,e.tagGroupForm)}:function(n){n.selected=!1,e.removeTagFromSelection(n,e.tagGroupForm)})},n.prototype.handleCheckbox=function(n,e){this.selectAllIndeterminate=!0;var t=n.target.checked;e.selected=t,this.dropdownActiveOptions.filter((function(n){return n.id===e.id})).forEach((function(n){n.selected=t})),t?this.handleDropdownHierarchyChange(n,e,this.tagGroupForm):this.removeTagFromSelection(e,this.tagGroupForm)},n.prototype.handleDropdownHierarchyChange=function(n,e,t){t&&e.selectable&&(n.preventDefault(),n.stopPropagation(),this.isMultiSelect||(this.dropdownHierarchyRef.close(),this.dropdownHierarchyView=!1,this.dropdownHierarchyFlatTree=[],this.dropdownHierarchySearchFilter=""),this.isMultiSelect?function(){if(!t.get("selected").value.some((function(n){return n.id===e.id}))){var n=t.get("selected").value;n.push(e),t.get("selected").setValue(n)}}():t.get("selected").setValue(e))},n.prototype.removeTagFromSelection=function(n,e){if(e){var t=e.get("selected").value.filter((function(e){return e.id!==n.id}));e.controls.selected.setValue(t),_.map(this.dropdownActiveOptions,(function(e){e.id===n.id&&(e.selected=!1)}))}},n.prototype.navigateDropdownHierarchy=function(n,e){var t=this;void 0===e&&(e="down"),"down"===e?(t.dropdownHierarchyView=!0,t.dropdownHierarchyParent=n,t.dropdownHierarchyTitle=n.tag,t.dropdownHierarchyList=n.children,t.dropdownActiveOptions=n.children,t.dropdownHierarchyFlatTree.push(n),_.find(t.dropdownHierarchyFlatTree,{id:n.id})||t.dropdownHierarchyFlatTree.push(n)):t.dropdownHierarchyParent.parentTagValueId?t.dropdownHierarchyFlatTree.forEach((function(n,e){n.id===t.dropdownHierarchyParent.parentTagValueId&&(t.dropdownHierarchyTitle=n.tag,t.dropdownHierarchyList=n.children,t.dropdownActiveOptions=n.children,t.dropdownHierarchyParent=n)})):(t.dropdownHierarchyView=!1,t.dropdownHierarchyFlatTree=[],t.dropdownHierarchySearchFilter="",t.dropdownActiveOptions=t.tagGroupForm.get("values").value)},n}(),g=l["\u0275crt"]({encapsulation:2,styles:[[".card{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card .card-header{font-size:.875rem}button,input,textarea{outline:0!important;box-shadow:none!important}strong{font-weight:500}input::-ms-clear{display:none;width:0;height:0}input::-ms-reveal{display:none;width:0;height:0}input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none}.ta-dropdown-hierarchy{font-size:.875rem}.ta-dropdown-hierarchy .dropdown-item{cursor:pointer}.ta-dropdown-hierarchy i{cursor:pointer;display:inline;font-size:.875rem}.ta-dropdown-hierarchy .ta-dropdown-hierarchy-title{padding:2px 7px;border-bottom:1px solid #ddd}.ta-dropdown-hierarchy .ta-dropdown-hierarchy-title p{text-transform:uppercase;font-weight:700;color:#777;margin:0;padding:0 0 5px 12px;display:inline-block}.ta-dropdown-hierarchy .ta-dropdown-hierarchy-btn-toggle{min-height:32px;width:100%}.ta-dropdown-hierarchy .ta-chevron-down{color:#ddd!important}.ta-dropdown-hierarchy .ta-chevron-left{margin-top:2px;float:left;font-size:1rem;color:#00b4dd}"]],data:{}});function h(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"button",[["aria-haspopup","true"],["class","ta-dropdown-hierarchy-btn-toggle dropdown-toggle"],["taButton",""],["taDropdownToggle",""],["taType","dropdown"],["type","button"]],[[1,"aria-expanded",0],[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,1).toggleOpen()&&i),"focus"===e&&(i=!1!==l["\u0275nov"](n,2).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,2).onMouseLeave()&&i),i}),s.U,s.k)),l["\u0275did"](1,16384,null,0,r.zc,[r.A,l.ElementRef],null,null),l["\u0275did"](2,573440,null,0,r.Gb,[l.ElementRef],{taType:[0,"taType"]},null),l["\u0275prd"](2048,[[3,4]],r.yc,null,[r.zc]),(n()(),l["\u0275ted"](4,0,[" "," "]))],(function(n,e){n(e,2,0,"dropdown")}),(function(n,e){var t=e.component;n(e,0,0,l["\u0275nov"](e,1).dropdown.isOpen(),l["\u0275nov"](e,2).className),n(e,4,0,t.isMultiSelect?"":null==t.tagGroupForm.get("selected").value?null:t.tagGroupForm.get("selected").value.tag)}))}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"ta-tags",[["class","dropdown-hierarchy-multi-tags"]],[[1,"class",0],[2,"hide",null]],[[null,"onClose"]],(function(n,e,t){var l=!0,i=n.component;return"onClose"===e&&(l=!1!==i.removeTagFromSelection(n.context.$implicit,i.tagGroupForm)&&l),l}),s.V,s.l)),l["\u0275did"](1,49152,null,0,r.Jb,[l.ElementRef],{class:[0,"class"],showClose:[1,"showClose"]},{onClose:"onClose"}),(n()(),l["\u0275ted"](2,0,[" "," "]))],(function(n,e){n(e,1,0,"dropdown-hierarchy-multi-tags",!0)}),(function(n,e){n(e,0,0,"ta-tags"+(l["\u0275nov"](e,1).theme?" "+l["\u0275nov"](e,1).theme:"")+(l["\u0275nov"](e,1).class?" "+l["\u0275nov"](e,1).class:"")+(l["\u0275nov"](e,1).showClose?" tag-close":""),l["\u0275nov"](e,1).isHide),n(e,2,0,e.context.$implicit.tag)}))}function m(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"div",[["aria-haspopup","true"],["class","w-100 dropdown-toggle"],["taButton",""],["taDropdownToggle",""],["taType","tags"]],[[1,"aria-expanded",0],[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,1).toggleOpen()&&i),"focus"===e&&(i=!1!==l["\u0275nov"](n,2).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,2).onMouseLeave()&&i),i}),s.U,s.k)),l["\u0275did"](1,16384,null,0,r.zc,[r.A,l.ElementRef],null,null),l["\u0275did"](2,573440,null,0,r.Gb,[l.ElementRef],{taType:[0,"taType"]},null),l["\u0275prd"](2048,[[3,4]],r.yc,null,[r.zc]),(n()(),l["\u0275and"](16777216,null,0,1,null,f)),l["\u0275did"](5,278528,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){var t=e.component;n(e,2,0,"tags"),n(e,5,0,t.tagGroupForm.get("selected").value)}),(function(n,e){n(e,0,0,l["\u0275nov"](e,1).dropdown.isOpen(),l["\u0275nov"](e,2).className)}))}function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"div",[["class","dropdown-item d-flex"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"ta-checkbox",[["class","d-flex"]],null,[[null,"change"]],(function(n,e,t){var l=!0;return"change"===e&&(l=!1!==n.component.handleSelectAll(t)&&l),l}),s.eb,s.u)),l["\u0275prd"](5120,null,a.o,(function(n){return[n]}),[r.Zb]),l["\u0275did"](3,573440,null,0,r.Zb,[l.ElementRef],{checked:[0,"checked"],indeterminate:[1,"indeterminate"]},null),(n()(),l["\u0275eld"](4,0,null,null,1,"p",[["class","m-0 p-0"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,[" Select All (","/",") "]))],(function(n,e){var t=e.component;n(e,3,0,t.isFullSelection(),t.isIndeterminateSelection())}),(function(n,e){var t=e.component;n(e,5,0,t.getActiveSelectionCount(),t.dropdownActiveOptions.length)}))}function b(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-item"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.handleNoneSelection()&&l),l}),null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"p",[["class","m-0 p-0"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" None "]))],null,null)}function C(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"ta-checkbox",[["class","d-flex"]],null,[[null,"change"]],(function(n,e,t){var l=!0;return"change"===e&&(l=!1!==n.component.handleCheckbox(t,n.parent.context.$implicit)&&l),l}),s.eb,s.u)),l["\u0275prd"](5120,null,a.o,(function(n){return[n]}),[r.Zb]),l["\u0275did"](2,573440,null,0,r.Zb,[l.ElementRef],{checked:[0,"checked"]},null)],(function(n,e){n(e,2,0,e.parent.context.$implicit.selected)}),null)}function y(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ta-icon",[["class","caret-right"],["icon","caret-right"]],[[4,"color",null],[8,"className",0]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(n.component.navigateDropdownHierarchy(n.parent.context.$implicit,"down"),l=!1!==t.stopPropagation()&&l),l}),s.db,s.t)),l["\u0275did"](1,114688,null,0,r.Tb,[],{icon:[0,"icon"],class:[1,"class"]},null)],(function(n,e){n(e,1,0,"caret-right","caret-right")}),(function(n,e){n(e,0,0,l["\u0275nov"](e,1).color,l["\u0275nov"](e,1).className)}))}function w(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","ta-dropdown-hierarchy-menu-item d-flex"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,6,"div",[["class","dropdown-item d-flex"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,C)),l["\u0275did"](3,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](4,0,null,null,1,"p",[["class","flex-fill m-0 p-0"]],null,[[null,"click"]],(function(n,e,t){var l=!0,i=n.component;return"click"===e&&(l=!1!==(!i.isMultiSelect&&i.handleDropdownHierarchyChange(t,n.context.$implicit,i.tagGroupForm))&&l),l}),null,null)),(n()(),l["\u0275ted"](5,null,[" "," "])),(n()(),l["\u0275and"](16777216,null,null,1,null,y)),l["\u0275did"](7,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,3,0,e.component.isMultiSelect),n(e,7,0,e.context.$implicit.children.length)}),(function(n,e){n(e,5,0,e.context.$implicit.tag)}))}function x(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,17,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,4,"div",[["class","ta-dropdown-hierarchy-title"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"ta-icon",[["class","caret-left"],["icon","caret-left"],["style","cursor: pointer;"]],[[4,"color",null],[8,"className",0]],[[null,"click"]],(function(n,e,t){var l=!0,i=n.component;return"click"===e&&(i.navigateDropdownHierarchy(i.option,"up"),l=!1!==t.stopPropagation()&&l),l}),s.db,s.t)),l["\u0275did"](3,114688,null,0,r.Tb,[],{icon:[0,"icon"],class:[1,"class"]},null),(n()(),l["\u0275eld"](4,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,[" "," "])),(n()(),l["\u0275eld"](6,0,null,null,2,"div",[["class","ta-dropdown-hierarchy-searchbox"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,1,"ta-dropdown-search",[["class","ta-dropdown-search"]],null,[[null,"onSearch"]],(function(n,e,t){var l=!0;return"onSearch"===e&&(l=!1!==n.component.onDropdownHierarchySearch(t)&&l),l}),s.kb,s.A)),l["\u0275did"](8,638976,[[4,4]],0,r.sc,[r.xc,l.ElementRef],null,{onSearch:"onSearch"}),(n()(),l["\u0275eld"](9,0,null,null,8,"ta-dropdown-scroll",[["class","ta-dropdown-scroll"]],null,null,null,s.ob,s.E)),l["\u0275did"](10,4243456,null,0,r.wc,[r.xc,l.ElementRef,r.B],{scrollHeight:[0,"scrollHeight"]},null),(n()(),l["\u0275and"](16777216,null,0,1,null,v)),l["\u0275did"](12,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,0,1,null,b)),l["\u0275did"](14,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,0,2,null,w)),l["\u0275did"](16,278528,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),l["\u0275ppd"](17,2)],(function(n,e){var t=e.component;n(e,3,0,"caret-left","caret-left"),n(e,8,0),n(e,10,0,70),n(e,12,0,t.isMultiSelect),n(e,14,0,!t.isMultiSelect);var i=l["\u0275unv"](e,16,0,n(e,17,0,l["\u0275nov"](e.parent,0),t.dropdownHierarchyList,t.dropdownHierarchySearchFilter));n(e,16,0,i)}),(function(n,e){var t=e.component;n(e,2,0,l["\u0275nov"](e,3).color,l["\u0275nov"](e,3).className),n(e,5,0,t.dropdownHierarchyTitle)}))}function S(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-item"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.handleNoneSelection()&&l),l}),null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"p",[["class","m-0 p-0"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" None "]))],null,null)}function I(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"div",[["class","dropdown-item d-flex"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"ta-checkbox",[["class","d-flex"]],null,[[null,"change"]],(function(n,e,t){var l=!0;return"change"===e&&(l=!1!==n.component.handleSelectAll(t)&&l),l}),s.eb,s.u)),l["\u0275prd"](5120,null,a.o,(function(n){return[n]}),[r.Zb]),l["\u0275did"](3,573440,null,0,r.Zb,[l.ElementRef],{checked:[0,"checked"],indeterminate:[1,"indeterminate"]},null),(n()(),l["\u0275eld"](4,0,null,null,1,"p",[["class","m-0 p-0"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,[" Select All (","/",") "]))],(function(n,e){var t=e.component;n(e,3,0,t.isFullSelection(),t.isIndeterminateSelection())}),(function(n,e){var t=e.component;n(e,5,0,t.getActiveSelectionCount(),t.dropdownActiveOptions.length)}))}function T(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"ta-checkbox",[["class","d-flex"]],null,[[null,"change"]],(function(n,e,t){var l=!0;return"change"===e&&(l=!1!==n.component.handleCheckbox(t,n.parent.context.$implicit)&&l),l}),s.eb,s.u)),l["\u0275prd"](5120,null,a.o,(function(n){return[n]}),[r.Zb]),l["\u0275did"](2,573440,null,0,r.Zb,[l.ElementRef],{checked:[0,"checked"]},null)],(function(n,e){n(e,2,0,e.parent.context.$implicit.selected)}),null)}function P(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ta-icon",[["class","caret-right"],["icon","caret-right"]],[[4,"color",null],[8,"className",0]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(n.component.navigateDropdownHierarchy(n.parent.context.$implicit,"down"),l=!1!==t.stopPropagation()&&l),l}),s.db,s.t)),l["\u0275did"](1,114688,null,0,r.Tb,[],{icon:[0,"icon"],class:[1,"class"]},null)],(function(n,e){n(e,1,0,"caret-right","caret-right")}),(function(n,e){n(e,0,0,l["\u0275nov"](e,1).color,l["\u0275nov"](e,1).className)}))}function R(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","ta-dropdown-hierarchy-menu-item d-flex"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,6,"div",[["class","dropdown-item d-flex"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,T)),l["\u0275did"](3,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](4,0,null,null,1,"p",[["class","flex-fill m-0 p-0"]],null,[[null,"click"]],(function(n,e,t){var l=!0,i=n.component;return"click"===e&&(l=!1!==(!i.isMultiSelect&&i.handleDropdownHierarchyChange(t,n.context.$implicit,i.tagGroupForm))&&l),l}),null,null)),(n()(),l["\u0275ted"](5,null,[" "," "])),(n()(),l["\u0275and"](16777216,null,null,1,null,P)),l["\u0275did"](7,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,3,0,e.component.isMultiSelect),n(e,7,0,e.context.$implicit.children.length)}),(function(n,e){n(e,5,0,e.context.$implicit.tag)}))}function F(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,15,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","ta-dropdown-hierarchy-searchbox"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"ta-dropdown-search",[["class","ta-dropdown-search"]],null,[[null,"onSearch"]],(function(n,e,t){var l=!0;return"onSearch"===e&&(l=!1!==n.component.onDropdownHierarchySearch(t)&&l),l}),s.kb,s.A)),l["\u0275did"](3,638976,[[4,4]],0,r.sc,[r.xc,l.ElementRef],null,{onSearch:"onSearch"}),(n()(),l["\u0275eld"](4,0,null,null,11,"ta-dropdown-scroll",[["class","ta-dropdown-scroll"]],null,null,null,s.ob,s.E)),l["\u0275did"](5,4243456,null,0,r.wc,[r.xc,l.ElementRef,r.B],{scrollHeight:[0,"scrollHeight"]},null),(n()(),l["\u0275eld"](6,0,null,0,2,"div",[["class","ta-dropdown-hierarchy-menu-item"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,S)),l["\u0275did"](8,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](9,0,null,0,2,"div",[["class","ta-dropdown-hierarchy-menu-item"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,I)),l["\u0275did"](11,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,0,3,null,R)),l["\u0275did"](13,278528,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),l["\u0275ppd"](14,3),l["\u0275ppd"](15,2)],(function(n,e){var t=e.component;n(e,3,0),n(e,5,0,70),n(e,8,0,!t.isMultiSelect),n(e,11,0,t.isMultiSelect);var i=l["\u0275unv"](e,13,0,n(e,15,0,l["\u0275nov"](e.parent,0),l["\u0275unv"](e,13,0,n(e,14,0,l["\u0275nov"](e.parent,1),t.tagGroupForm.get("values").value,t.tagGroupForm.get("selected").value,t.isMultiSelect)),t.dropdownHierarchySearchFilter));n(e,13,0,i)}),null)}function O(n){return l["\u0275vid"](0,[l["\u0275pid"](0,c.a,[]),l["\u0275pid"](0,d,[]),l["\u0275qud"](402653184,1,{dropdownHierarchyRef:0}),(n()(),l["\u0275eld"](3,0,null,null,18,"div",[["autoClose","outside"],["class","ta-dropdown-hierarchy"],["taDropdown",""]],[[2,"show",null]],null,null,s.M,s.c)),l["\u0275did"](4,245760,[[1,4],["dropdownHierarchyRef",4]],4,r.A,[l.ChangeDetectorRef,r.B,u.DOCUMENT,l.NgZone,l.ElementRef],{autoClose:[0,"autoClose"],placement:[1,"placement"]},null),l["\u0275qud"](335544320,2,{_menu:0}),l["\u0275qud"](603979776,3,{_anchor:0}),l["\u0275qud"](603979776,4,{_search:0}),l["\u0275qud"](335544320,5,{_category:0}),l["\u0275pad"](9,3),(n()(),l["\u0275and"](16777216,null,0,1,null,h)),l["\u0275did"](11,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,0,1,null,m)),l["\u0275did"](13,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](14,0,null,0,7,"div",[["aria-labelledby","dropdownBasic1"],["taDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),l["\u0275did"](15,16384,[[2,4]],1,r.xc,[r.A,l.ElementRef,l.Renderer2],null,null),l["\u0275qud"](335544320,6,{_category:0}),(n()(),l["\u0275eld"](17,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,x)),l["\u0275did"](19,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,F)),l["\u0275did"](21,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component,l=n(e,9,0,"bottom","top","auto");n(e,4,0,"outside",l),n(e,11,0,t.tagGroupForm&&!(t.isMultiSelect&&t.tagGroupForm)),n(e,13,0,t.isMultiSelect&&t.tagGroupForm),n(e,19,0,t.dropdownHierarchyView&&t.tagGroupForm),n(e,21,0,!t.dropdownHierarchyView&&t.tagGroupForm)}),(function(n,e){n(e,3,0,l["\u0275nov"](e,4).isOpen()),n(e,14,0,!0,l["\u0275nov"](e,15).dropdown.isOpen(),l["\u0275nov"](e,15).placement)}))}t("1pUY"),t("bbFK"),t("biaL"),t.d(e,"a",(function(){return k})),t.d(e,"b",(function(){return j}));var k=l["\u0275crt"]({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{font-size:.875rem}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:0!important;box-shadow:none!important}strong[_ngcontent-%COMP%]{font-weight:500}input[_ngcontent-%COMP%]::-ms-clear{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-ms-reveal{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-webkit-search-cancel-button, input[_ngcontent-%COMP%]::-webkit-search-decoration, input[_ngcontent-%COMP%]::-webkit-search-results-button, input[_ngcontent-%COMP%]::-webkit-search-results-decoration{display:none}.ta-dropdown-hierarchy[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;display:inline;color:#00b4dd}.ta-dropdown-hierarchy[_ngcontent-%COMP%]   .ta-dropdown-hierarchy-menu[_ngcontent-%COMP%]{padding:2px 0 0;min-height:100px;max-height:120px;overflow-y:scroll;overflow-x:hidden;width:100%}.ta-dropdown-hierarchy[_ngcontent-%COMP%]   .ta-dropdown-hierarchy-title[_ngcontent-%COMP%]{padding:2px 7px;border-bottom:1px solid #ddd}.ta-dropdown-hierarchy[_ngcontent-%COMP%]   .ta-dropdown-hierarchy-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#777;margin:0;padding:0 0 5px 12px;display:inline-block}.ta-dropdown-hierarchy[_ngcontent-%COMP%]   .ta-dropdown-hierarchy-btn-toggle[_ngcontent-%COMP%]{width:100%}"]],data:{}});function M(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,6,"ta-dropdown-field",[["class","small-dropdown"],["formControlName","selected"],["optionLabel","tag"]],[[2,"multiple-value-dropdown",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"infiniteListChanged"],[null,"keyup"]],(function(n,e,t){var l=!0,i=n.component;return"infiniteListChanged"===e&&(l=!1!==i.requestForInfiniteList(t)&&l),"keyup"===e&&(l=!1!==i.debounceSearch(t.target.value)&&l),l}),i.b,i.a)),l["\u0275did"](2,49152,null,0,o.a,[],{optionLabel:[0,"optionLabel"],placement:[1,"placement"],isSearchable:[2,"isSearchable"],useInfiniteScroll:[3,"useInfiniteScroll"],autoClose:[4,"autoClose"],isMultiple:[5,"isMultiple"],options:[6,"options"],selectedOption:[7,"selectedOption"]},{infiniteListChanged:"infiniteListChanged"}),l["\u0275pad"](3,1),l["\u0275prd"](1024,null,a.o,(function(n){return[n]}),[o.a]),l["\u0275did"](5,671744,null,0,a.i,[[3,a.b],[8,null],[8,null],[6,a.o],[2,a.z]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,a.p,null,[a.i]),l["\u0275did"](7,16384,null,0,a.q,[[4,a.p]],null,null)],(function(n,e){var t=e.component,l=t.lastElementPlacementTop&&e.parent.parent.context.index==t.tagGroupFormArray.controls.length-1?n(e,3,0,"top-left"):null,i=t.userTags,o=e.parent.parent.context.$implicit.get("selected").value;n(e,2,0,"tag",l,!0,!0,!1,!0,i,o),n(e,5,0,"selected")}),(function(n,e){n(e,1,0,l["\u0275nov"](e,2).isMultiple,l["\u0275nov"](e,7).ngClassUntouched,l["\u0275nov"](e,7).ngClassTouched,l["\u0275nov"](e,7).ngClassPristine,l["\u0275nov"](e,7).ngClassDirty,l["\u0275nov"](e,7).ngClassValid,l["\u0275nov"](e,7).ngClassInvalid,l["\u0275nov"](e,7).ngClassPending)}))}function E(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,6,"ta-dropdown-field",[["class","small-dropdown"],["formControlName","selected"],["optionLabel","tag"]],[[2,"multiple-value-dropdown",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"infiniteListChanged"],[null,"keyup"]],(function(n,e,t){var l=!0,i=n.component;return"infiniteListChanged"===e&&(l=!1!==i.requestForInfiniteList(t)&&l),"keyup"===e&&(l=!1!==i.debounceSearch(t.target.value)&&l),l}),i.b,i.a)),l["\u0275did"](2,49152,null,0,o.a,[],{optionLabel:[0,"optionLabel"],placement:[1,"placement"],isSearchable:[2,"isSearchable"],emptyOption:[3,"emptyOption"],useInfiniteScroll:[4,"useInfiniteScroll"],allowUnselectItem:[5,"allowUnselectItem"],options:[6,"options"],selectedOption:[7,"selectedOption"]},{infiniteListChanged:"infiniteListChanged"}),l["\u0275pad"](3,1),l["\u0275prd"](1024,null,a.o,(function(n){return[n]}),[o.a]),l["\u0275did"](5,671744,null,0,a.i,[[3,a.b],[8,null],[8,null],[6,a.o],[2,a.z]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,a.p,null,[a.i]),l["\u0275did"](7,16384,null,0,a.q,[[4,a.p]],null,null)],(function(n,e){var t=e.component,l=t.lastElementPlacementTop&&e.parent.parent.context.index==t.tagGroupFormArray.controls.length-1?n(e,3,0,"top-left"):null,i=t.userTags,o=e.parent.parent.context.$implicit.get("selected").value;n(e,2,0,"tag",l,!0,!0,!0,!0,i,o),n(e,5,0,"selected")}),(function(n,e){n(e,1,0,l["\u0275nov"](e,2).isMultiple,l["\u0275nov"](e,7).ngClassUntouched,l["\u0275nov"](e,7).ngClassTouched,l["\u0275nov"](e,7).ngClassPristine,l["\u0275nov"](e,7).ngClassDirty,l["\u0275nov"](e,7).ngClassValid,l["\u0275nov"](e,7).ngClassInvalid,l["\u0275nov"](e,7).ngClassPending)}))}function N(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,5,"div",[],null,null,null,null,null)),l["\u0275did"](2,16384,null,0,u.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,M)),l["\u0275did"](4,278528,null,0,u.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,u.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,E)),l["\u0275did"](6,278528,null,0,u.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,u.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(n,e){var t=e.parent.context.$implicit.get("multipleValuesAllowed").value;n(e,2,0,t),n(e,4,0,!0),n(e,6,0,!1)}),null)}function D(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"ta-dropdown-hierarchy",[],null,null,null,O,g)),l["\u0275did"](2,114688,null,0,p,[],{tagGroupForm:[0,"tagGroupForm"],isMultiSelect:[1,"isMultiSelect"]},null)],(function(n,e){n(e,2,0,e.parent.parent.parent.context.$implicit,!0)}),null)}function V(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,D)),l["\u0275did"](2,278528,null,0,u.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,u.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(n,e){n(e,2,0,!0)}),null)}function A(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"ta-dropdown-hierarchy",[],null,null,null,O,g)),l["\u0275did"](2,114688,null,0,p,[],{tagGroupForm:[0,"tagGroupForm"],isMultiSelect:[1,"isMultiSelect"]},null)],(function(n,e){n(e,2,0,e.parent.parent.context.$implicit,!1)}),null)}function U(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,5,"div",[],null,null,null,null,null)),l["\u0275did"](2,16384,null,0,u.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,V)),l["\u0275did"](4,278528,null,0,u.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,u.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,A)),l["\u0275did"](6,278528,null,0,u.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,u.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(n,e){var t=e.parent.context.$implicit.get("multipleValuesAllowed").value;n(e,2,0,t),n(e,4,0,!0),n(e,6,0,!1)}),null)}function L(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger text-danger-multi-sibling"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" The tag name must be less than 255 characters. "]))],null,null)}function B(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,7,"input",[["class","form-control"],["formControlName","selected"],["placeholder","Enter tag value"],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0;return"input"===e&&(i=!1!==l["\u0275nov"](n,4)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,4).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,4)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,4)._compositionEnd(t.target.value)&&i),i}),null,null)),l["\u0275did"](2,278528,null,0,u.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{"is-invalid":0}),l["\u0275did"](4,16384,null,0,a.c,[l.Renderer2,l.ElementRef,[2,a.a]],null,null),l["\u0275prd"](1024,null,a.o,(function(n){return[n]}),[a.c]),l["\u0275did"](6,671744,null,0,a.i,[[3,a.b],[8,null],[8,null],[6,a.o],[2,a.z]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,a.p,null,[a.i]),l["\u0275did"](8,16384,null,0,a.q,[[4,a.p]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,L)),l["\u0275did"](10,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=n(e,3,0,e.parent.context.$implicit.invalid&&e.parent.context.$implicit.touched);n(e,2,0,"form-control",t),n(e,6,0,"selected");var l=null==e.parent.context.$implicit.get("selected").errors?null:e.parent.context.$implicit.get("selected").errors.maxlength;n(e,10,0,l)}),(function(n,e){var t=l["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.get("id").value,"");n(e,1,0,t,l["\u0275nov"](e,8).ngClassUntouched,l["\u0275nov"](e,8).ngClassTouched,l["\u0275nov"](e,8).ngClassPristine,l["\u0275nov"](e,8).ngClassDirty,l["\u0275nov"](e,8).ngClassValid,l["\u0275nov"](e,8).ngClassInvalid,l["\u0275nov"](e,8).ngClassPending)}))}function $(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,13,"div",[["class","col-12 form-group mb-1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l["\u0275did"](1,212992,null,0,a.l,[[3,a.b],[8,null],[8,null]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,a.b,null,[a.l]),l["\u0275did"](3,16384,null,0,a.r,[[4,a.b]],null,null),(n()(),l["\u0275eld"](4,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(n()(),l["\u0275ted"](5,null,["",""])),(n()(),l["\u0275eld"](6,0,null,null,7,"div",[["class","mb-2"]],null,null,null,null,null)),l["\u0275did"](7,16384,null,0,u.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,N)),l["\u0275did"](9,278528,null,0,u.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,u.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,U)),l["\u0275did"](11,278528,null,0,u.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,u.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,B)),l["\u0275did"](13,278528,null,0,u.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,u.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(n,e){n(e,1,0,e.context.index);var t=e.context.$implicit.get("tagGroupType").value;n(e,7,0,t),n(e,9,0,"USER"),n(e,11,0,"SELECTABLE"),n(e,13,0,"TEXT")}),(function(n,e){n(e,0,0,l["\u0275nov"](e,3).ngClassUntouched,l["\u0275nov"](e,3).ngClassTouched,l["\u0275nov"](e,3).ngClassPristine,l["\u0275nov"](e,3).ngClassDirty,l["\u0275nov"](e,3).ngClassValid,l["\u0275nov"](e,3).ngClassInvalid,l["\u0275nov"](e,3).ngClassPending);var t=l["\u0275inlineInterpolate"](1,"",e.context.$implicit.get("id").value,"");n(e,4,0,t);var i=e.context.$implicit.get("tagGroupName").value;n(e,5,0,i)}))}function j(n){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{dropdownHierarchyRef:0}),(n()(),l["\u0275eld"](1,0,null,null,11,"div",[["class","fadeInApp"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,10,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0;return"submit"===e&&(i=!1!==l["\u0275nov"](n,4).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,4).onReset()&&i),i}),null,null)),l["\u0275did"](3,16384,null,0,a.x,[],null,null),l["\u0275did"](4,540672,null,0,a.k,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,a.b,null,[a.k]),l["\u0275did"](6,16384,null,0,a.r,[[4,a.b]],null,null),(n()(),l["\u0275eld"](7,0,null,null,5,"div",[["class","row"],["formArrayName","tagGroupFormArray"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l["\u0275did"](8,212992,null,0,a.e,[[3,a.b],[8,null],[8,null]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,a.b,null,[a.e]),l["\u0275did"](10,16384,null,0,a.r,[[4,a.b]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,$)),l["\u0275did"](12,278528,null,0,u.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){var t=e.component;n(e,4,0,t.tagGroupFormGroup),n(e,8,0,"tagGroupFormArray"),n(e,12,0,t.tagGroupFormArray.controls)}),(function(n,e){n(e,2,0,l["\u0275nov"](e,6).ngClassUntouched,l["\u0275nov"](e,6).ngClassTouched,l["\u0275nov"](e,6).ngClassPristine,l["\u0275nov"](e,6).ngClassDirty,l["\u0275nov"](e,6).ngClassValid,l["\u0275nov"](e,6).ngClassInvalid,l["\u0275nov"](e,6).ngClassPending),n(e,7,0,l["\u0275nov"](e,10).ngClassUntouched,l["\u0275nov"](e,10).ngClassTouched,l["\u0275nov"](e,10).ngClassPristine,l["\u0275nov"](e,10).ngClassDirty,l["\u0275nov"](e,10).ngClassValid,l["\u0275nov"](e,10).ngClassInvalid,l["\u0275nov"](e,10).ngClassPending)}))}},KZui:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){return function(){}}()},LV1M:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){return function(){}}()},M4jF:function(n,e,t){"use strict";t.d(e,"a",(function(){return s}));var l=t("FPqJ"),i=(t("kQEY"),t("26FU")),o=t("K9Ia"),a=t("ny24"),u=(t("1pUY"),t("XvOt")),s=function(){function n(n,e,t){this.activeModal=n,this.formBuilder=e,this.baseRecordsService=t,this.selectedTags=[],this.baseDomainTypeEnum=l.a,this.tagsCount=new i.a(0),this.tagsCount$=this.tagsCount.asObservable(),this.allTags=[],this.destruction$=new o.a}return n.prototype.ngOnInit=function(){this.isShowingSpinner=!1,this.thereAreTagsBP=!1,this.isFetching=!0,this.tagFormsGroup=this.formBuilder.group({placeholder:""}),this.validateAllTagsForBP(),this.tagsCount.next(0)},n.prototype.ngOnDestroy=function(){this.destruction$.next(),this.destruction$.complete()},n.prototype.selectedTagsChange=function(n){this.selectedTags=n;var e=this.getTagsCount(this.selectedTags);this.tagsCount.next(e),this.tagFormsGroup.markAsDirty()},n.prototype.saveTags=function(){var n=this,e=this.tagsSelector.extractTagsFromFormControls();this.isShowingSpinner=!0,this.baseRecordsService.putTags(this.businessProcessId,e).pipe(Object(a.a)(this.destruction$)).subscribe((function(t){n.closeModal(n.getTagsCount(e)),n.isShowingSpinner=!1,n.baseRecordsService.versionAfterUpdateTags.next(t.version)}),(function(e){console.error(e),n.isShowingSpinner=!1}))},n.prototype.closeModal=function(n){this.activeModal.close(n=0===n?this.selectedTags.length:n)},n.prototype.onCancel=function(){this.activeModal.dismiss()},n.prototype.dismissModal=function(){this.activeModal.dismiss()},n.prototype.validateAllTagsForBP=function(){var n=this;u.a.unSubscribe(this._getAllTags$),this._getAllTags$=this.baseRecordsService.getAllTags(l.a.BusinessProcess,!0).pipe(Object(a.a)(this.destruction$)).subscribe((function(e){e.length>0&&(n.isFetching=!1,n.thereAreTagsBP=!0,n.allTags=e)}),(function(e){console.error(e),n.isFetching=!1,n.isShowingSpinner=!1}))},n.prototype.getTagsCount=function(n){return n.length>0?n.reduce((function(n,e){return n+e.values.length}),0):0},n}()},MMEF:function(n,e,t){"use strict";var l=t("CcnG"),i=t("gIcY"),o=t("Ip0R"),a=t("YKkH"),u=t("WhUT"),s=t("1ut8"),r=t("q05c"),c=t("tr7A"),d=t("5L+J"),p=t("zmqE");t.d(e,"a",(function(){return v}));var g=l["\u0275crt"]({encapsulation:0,styles:[[".data-label[_ngcontent-%COMP%]{width:97px;height:16px;left:24px;top:266px;font-family:IBM Plex Sans;font-style:normal;font-weight:400;font-size:12px;line-height:16px;color:#000}"]],data:{}});function h(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger text-danger-multi-sibling"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" The notes must be less than 1024 characters. "]))],null,null)}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","modal-header"],["data-cy","bp-attachments-modal"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"h4",[["class","modal-title"],["data-cy","modal-title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Notes & Attachments "])),(n()(),l["\u0275eld"](3,0,null,null,1,"button",[["aria-label","Close"],["class","close"],["data-cy","modal-close"],["type","button"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.closeModal()&&l),l}),null,null)),(n()(),l["\u0275eld"](4,0,null,null,0,"i",[["class","ta ta-close"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,22,"div",[["class","modal-body modal-scroll"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0;return"submit"===e&&(i=!1!==l["\u0275nov"](n,6).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,6).onReset()&&i),i}),null,null)),l["\u0275did"](6,540672,null,0,i.k,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,i.b,null,[i.k]),l["\u0275did"](8,16384,null,0,i.r,[[4,i.b]],null,null),(n()(),l["\u0275eld"](9,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](10,0,null,null,1,"label",[["class","data-label"],["for","notes"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Notes"])),(n()(),l["\u0275eld"](12,0,null,null,5,"textarea",[["class","form-control"],["data-cy","notes"],["formControlName","notes"],["id","notes"],["name","notes"],["placeholder","Write your own notes here."],["rows","5"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0;return"input"===e&&(i=!1!==l["\u0275nov"](n,13)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,13).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,13)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,13)._compositionEnd(t.target.value)&&i),i}),null,null)),l["\u0275did"](13,16384,null,0,i.c,[l.Renderer2,l.ElementRef,[2,i.a]],null,null),l["\u0275prd"](1024,null,i.o,(function(n){return[n]}),[i.c]),l["\u0275did"](15,671744,null,0,i.i,[[3,i.b],[8,null],[8,null],[6,i.o],[2,i.z]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,i.p,null,[i.i]),l["\u0275did"](17,16384,null,0,i.q,[[4,i.p]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,h)),l["\u0275did"](19,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](20,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](21,0,null,null,1,"label",[["class","data-label"],["for","filesUpload"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["File Attachments"])),(n()(),l["\u0275eld"](23,0,null,null,4,"ta-base-record-file-upload",[["id","filesUpload"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0;return"submit"===e&&(i=!1!==l["\u0275nov"](n,24).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,24).onReset()&&i),i}),a.b,a.a)),l["\u0275did"](24,540672,null,0,i.k,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,i.b,null,[i.k]),l["\u0275did"](26,16384,null,0,i.r,[[4,i.b]],null,null),l["\u0275did"](27,114688,null,0,u.a,[i.b,i.f,s.Fb,s.G,r.a],{isDeletingFile:[0,"isDeletingFile"]},null),(n()(),l["\u0275eld"](28,0,null,null,3,"div",[["class","modal-footer justify-content-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](29,0,null,null,2,"button",[["data-cy","modal-submit"],["taButton",""],["taType","primary"]],[[8,"disabled",0],[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0,o=n.component;return"focus"===e&&(i=!1!==l["\u0275nov"](n,30).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,30).onMouseLeave()&&i),"click"===e&&(i=!1!==o.onSubmit()&&i),i}),c.U,c.k)),l["\u0275did"](30,573440,null,0,s.Gb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275ted"](-1,0,[" Done "]))],(function(n,e){var t=e.component;n(e,6,0,t.notesAndAttachmentsFormsGroup),n(e,15,0,"notes"),n(e,19,0,null==t.notes.errors?null:t.notes.errors.maxlength),n(e,24,0,t.attachmentsFormsGroup),n(e,27,0,t.isDeletingFile),n(e,30,0,"primary")}),(function(n,e){var t=e.component;n(e,5,0,l["\u0275nov"](e,8).ngClassUntouched,l["\u0275nov"](e,8).ngClassTouched,l["\u0275nov"](e,8).ngClassPristine,l["\u0275nov"](e,8).ngClassDirty,l["\u0275nov"](e,8).ngClassValid,l["\u0275nov"](e,8).ngClassInvalid,l["\u0275nov"](e,8).ngClassPending),n(e,12,0,l["\u0275nov"](e,17).ngClassUntouched,l["\u0275nov"](e,17).ngClassTouched,l["\u0275nov"](e,17).ngClassPristine,l["\u0275nov"](e,17).ngClassDirty,l["\u0275nov"](e,17).ngClassValid,l["\u0275nov"](e,17).ngClassInvalid,l["\u0275nov"](e,17).ngClassPending),n(e,23,0,l["\u0275nov"](e,26).ngClassUntouched,l["\u0275nov"](e,26).ngClassTouched,l["\u0275nov"](e,26).ngClassPristine,l["\u0275nov"](e,26).ngClassDirty,l["\u0275nov"](e,26).ngClassValid,l["\u0275nov"](e,26).ngClassInvalid,l["\u0275nov"](e,26).ngClassPending),n(e,29,0,!t.isValid,l["\u0275nov"](e,30).className)}))}function m(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ta-notes-attachments",[],null,null,null,f,g)),l["\u0275did"](1,245760,null,0,d.a,[s.e,i.f,r.a,p.a],null,null)],(function(n,e){n(e,1,0)}),null)}var v=l["\u0275ccf"]("ta-notes-attachments",d.a,m,{businessProcessId:"businessProcessId"},{},[])},NQgJ:function(n,e,t){"use strict";var l=t("CcnG"),i=t("Ip0R"),o=t("tr7A"),a=t("1ut8"),u=t("gIcY"),s=t("Cr54"),r=t("/KSa");t("tR8B"),t("PTJf"),t("ZYCi"),t("4B+E"),t("54QL"),t("zmqE"),t("kQEY"),t("1TgF"),t("Axip"),t.d(e,"a",(function(){return c})),t.d(e,"b",(function(){return y}));var c=l["\u0275crt"]({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{font-size:.875rem}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:0!important;box-shadow:none!important}strong[_ngcontent-%COMP%]{font-weight:500}input[_ngcontent-%COMP%]::-ms-clear{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-ms-reveal{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-webkit-search-cancel-button, input[_ngcontent-%COMP%]::-webkit-search-decoration, input[_ngcontent-%COMP%]::-webkit-search-results-button, input[_ngcontent-%COMP%]::-webkit-search-results-decoration{display:none}[_nghost-%COMP%]  .ta-tooltip.ta-attachments-tags-tooltip{margin-top:7px!important}[_nghost-%COMP%]{border-bottom:1px solid #f1f1f1}[_nghost-%COMP%]   ta-step[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .w-auto[_ngcontent-%COMP%]{min-width:auto;max-width:auto}[_nghost-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding-top:8px}[_nghost-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#595959;margin-right:5px}[_nghost-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   ta-icon[_ngcontent-%COMP%]{position:relative;top:-1px;margin:0 0 0 4px}[_nghost-%COMP%]   .nav-segment[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{background-color:#f1f1f1}[_nghost-%COMP%]   .nav-segment[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:first-child{border-top-left-radius:50px;border-bottom-left-radius:50px}[_nghost-%COMP%]   .nav-segment[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:50px;border-bottom-right-radius:50px}[_nghost-%COMP%]   .nav-segment[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.157rem 1.5rem;color:#000}[_nghost-%COMP%]   .nav-segment[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#064676!important;color:#fff!important;border-radius:50px}[_nghost-%COMP%]   .nav-segment[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.disabled[_ngcontent-%COMP%]{color:#c2c2c2}[_nghost-%COMP%]   .status-container[_ngcontent-%COMP%]{padding-left:20px}[_nghost-%COMP%]   .status-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:124px}[_nghost-%COMP%]   .status-container[_ngcontent-%COMP%]   ta-dropdown-field[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%]   .status-container[_ngcontent-%COMP%]   ta-dropdown-field[_ngcontent-%COMP%]   span.spinner-border[_ngcontent-%COMP%]{position:absolute;top:8px;left:77px;z-index:1;color:#004575!important}.badge-custom-nav-items[_ngcontent-%COMP%]{padding:2px 6px;font-size:12px;min-width:18px;min-height:13px;border-radius:100px}ta-badge.badge[_ngcontent-%COMP%]{z-index:100;margin-left:-4px;min-width:8px}"]],data:{}});function d(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"a",[["class","nav-link"],["data-cy","bp-nav-step"]],[[2,"active",null]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.onClickStep(n.parent.context.$implicit.slug)&&l),l}),null,null)),(n()(),l["\u0275ted"](1,null,[" "," "]))],null,(function(n,e){n(e,0,0,e.parent.context.$implicit.slug===e.component.currentRoute.slug),n(e,1,0,e.parent.context.$implicit.name)}))}function p(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,d)),l["\u0275did"](2,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,2,0,e.component.isVisible(e.context.$implicit.slug))}),null)}function g(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,16777216,null,null,4,"button",[["class","ta-button btn btn-circle ml-2"],["data-cy","bp-flowchart-button"],["placement","bottom"],["taButton",""],["taTooltip","Open Flowchart"],["taType","circle"],["tooltipClass","ta-attachments-tags-tooltip"],["tooltipTheme","light"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0,o=n.component;return"focus"===e&&(i=!1!==l["\u0275nov"](n,2).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,2).onMouseLeave()&&i),"click"===e&&(i=!1!==o.onClickView(o.dataFlowView.FLOWCHART)&&i),i}),o.U,o.k)),l["\u0275did"](1,212992,null,0,a.yb,[l.ElementRef,l.Renderer2,l.Injector,l.ComponentFactoryResolver,l.ViewContainerRef,a.zb,l.NgZone,i.DOCUMENT],{placement:[0,"placement"],tooltipClass:[1,"tooltipClass"],tooltipTheme:[2,"tooltipTheme"],taTooltip:[3,"taTooltip"]},null),l["\u0275did"](2,573440,null,0,a.Gb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275eld"](3,0,null,0,1,":svg:svg",[["fill","none"],["height","10"],["viewBox","0 0 14 10"],["width","14"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M11.9947 6.00411C11.0862 6.00682 10.2942 6.62377 10.0677 7.50511H7.49947V2.5018H10.0677C10.3192 3.4776 11.2558 4.11383 12.2539 3.98684C13.2519 3.85985 14 3.00927 14 2.00147C14 0.99367 13.2519 0.143086 12.2539 0.0160993C11.2558 -0.110888 10.3192 0.525342 10.0677 1.50114H7.49947C6.948 1.50169 6.50108 1.94938 6.50053 2.5018V4.50312H3.93228C3.68077 3.52732 2.74416 2.89109 1.74612 3.01808C0.748084 3.14507 0 3.99565 0 5.00345C0 6.01125 0.748084 6.86184 1.74612 6.98882C2.74416 7.11581 3.68077 6.47958 3.93228 5.50378H6.50053V7.50511C6.50108 8.05753 6.948 8.50521 7.49947 8.50577H10.0677C10.329 9.51023 11.3147 10.1469 12.3359 9.9708C13.3571 9.79471 14.0736 8.86456 13.9846 7.83038C13.8956 6.79621 13.0309 6.00257 11.9947 6.00411ZM11.9947 1.00081C12.5463 1.00081 12.9936 1.44882 12.9936 2.00147C12.9936 2.55412 12.5463 3.00213 11.9947 3.00213C11.443 3.00213 10.9957 2.55412 10.9957 2.00147C10.9963 1.44905 11.4432 1.00136 11.9947 1.00081ZM2.00535 6.00411C1.45365 6.00411 1.00641 5.5561 1.00641 5.00345C1.00641 4.4508 1.45365 4.00279 2.00535 4.00279C2.55704 4.00279 3.00428 4.4508 3.00428 5.00345C3.00373 5.55587 2.55681 6.00356 2.00535 6.00411ZM11.9947 9.0061C11.443 9.0061 10.9957 8.55808 10.9957 8.00543C10.9957 7.45279 11.443 7.00477 11.9947 7.00477C12.5463 7.00477 12.9936 7.45279 12.9936 8.00543C12.993 8.55786 12.5461 9.00554 11.9947 9.0061Z"],["fill","#595959"],["fill-rule","evenodd"]],null,null,null,null,null)),(n()(),l["\u0275and"](0,null,null,0))],(function(n,e){n(e,1,0,"bottom","ta-attachments-tags-tooltip","light","Open Flowchart"),n(e,2,0,"circle")}),(function(n,e){n(e,0,0,l["\u0275nov"](e,2).className)}))}function h(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,16777216,null,null,4,"button",[["class","ta-button btn btn-circle ml-2"],["data-cy","bp-map-button"],["placement","bottom"],["taButton",""],["taTooltip","Open Map"],["taType","circle"],["tooltipClass","ta-attachments-tags-tooltip"],["tooltipTheme","light"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0,o=n.component;return"focus"===e&&(i=!1!==l["\u0275nov"](n,2).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,2).onMouseLeave()&&i),"click"===e&&(i=!1!==o.onClickView(o.dataFlowView.MAP)&&i),i}),o.U,o.k)),l["\u0275did"](1,212992,null,0,a.yb,[l.ElementRef,l.Renderer2,l.Injector,l.ComponentFactoryResolver,l.ViewContainerRef,a.zb,l.NgZone,i.DOCUMENT],{placement:[0,"placement"],tooltipClass:[1,"tooltipClass"],tooltipTheme:[2,"tooltipTheme"],taTooltip:[3,"taTooltip"]},null),l["\u0275did"](2,573440,null,0,a.Gb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275eld"](3,0,null,0,1,":svg:svg",[["fill","none"],["height","14"],["viewBox","0 0 15 14"],["width","15"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M4.93321 0C4.85136 0 4.77472 0.0222879 4.70903 0.0611255L0.222292 2.62497C0.0848321 2.70352 0 2.8497 0 3.00802V13.2754C0 13.4327 0.083717 13.578 0.219738 13.657C0.355759 13.7359 0.523516 13.7365 0.660061 13.6584L4.94704 11.2087L9.86051 13.6655C9.92207 13.6981 9.99228 13.7166 10.0668 13.7166C10.1489 13.7166 10.2258 13.6941 10.2917 13.655L14.7777 11.0916C14.9152 11.0131 15 10.8669 15 10.7086V0.441177C15 0.28391 14.9163 0.138535 14.7803 0.0595987C14.6442 -0.0193375 14.4765 -0.0198978 14.3399 0.0581282L10.053 2.50783L5.13945 0.0510744C5.0779 0.0184674 5.00771 0 4.93321 0ZM10.508 12.5152L14.1176 10.4525V1.2014L10.508 3.26407V12.5152ZM9.62563 3.28066L5.37439 1.15504V10.4359L9.62563 12.5615V3.28066ZM0.882353 3.26405L4.49203 1.20137V10.4525L0.882353 12.5152V3.26405Z"],["fill","#595959"],["fill-rule","evenodd"]],null,null,null,null,null)),(n()(),l["\u0275and"](0,null,null,0))],(function(n,e){n(e,1,0,"bottom","ta-attachments-tags-tooltip","light","Open Map"),n(e,2,0,"circle")}),(function(n,e){n(e,0,0,l["\u0275nov"](e,2).className)}))}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"ta-badge",[["class","badge-custom-nav-items align-top"],["type","error"]],[[8,"className",0]],null,null,o.jb,o.z)),l["\u0275did"](1,573440,null,0,a.fc,[a.gc],{type:[0,"type"],values:[1,"values"],class:[2,"class"]},null),l["\u0275pid"](131072,i.AsyncPipe,[l.ChangeDetectorRef])],(function(n,e){var t=e.component;n(e,1,0,"error",l["\u0275unv"](e,1,1,l["\u0275nov"](e,2).transform(t.attachmentsCount$)),"badge-custom-nav-items align-top")}),(function(n,e){n(e,0,0,l["\u0275nov"](e,1).className)}))}function m(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"ta-badge",[["class","badge-custom-nav-items align-top"],["type","error"]],[[8,"className",0]],null,null,o.jb,o.z)),l["\u0275did"](1,573440,null,0,a.fc,[a.gc],{type:[0,"type"],values:[1,"values"],class:[2,"class"]},null),l["\u0275pid"](131072,i.AsyncPipe,[l.ChangeDetectorRef])],(function(n,e){var t=e.component;n(e,1,0,"error",l["\u0275unv"](e,1,1,l["\u0275nov"](e,2).transform(t.tagsCount$)),"badge-custom-nav-items align-top")}),(function(n,e){n(e,0,0,l["\u0275nov"](e,1).className)}))}function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,30,"div",[["class","w-25 text-right"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,g)),l["\u0275did"](2,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,h)),l["\u0275did"](4,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](5,16777216,null,null,4,"button",[["class","ta-button btn btn-circle ml-2"],["data-cy","bp-copy-button"],["placement","bottom"],["taButton",""],["taTooltip","Edit Revalidation Date"],["taType","circle"],["tooltipClass","ta-attachments-tags-tooltip"],["tooltipTheme","light"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0,o=n.component;return"focus"===e&&(i=!1!==l["\u0275nov"](n,7).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,7).onMouseLeave()&&i),"click"===e&&(i=!1!==o.openEditRevalidationDateModal()&&i),i}),o.U,o.k)),l["\u0275did"](6,212992,null,0,a.yb,[l.ElementRef,l.Renderer2,l.Injector,l.ComponentFactoryResolver,l.ViewContainerRef,a.zb,l.NgZone,i.DOCUMENT],{placement:[0,"placement"],tooltipClass:[1,"tooltipClass"],tooltipTheme:[2,"tooltipTheme"],taTooltip:[3,"taTooltip"]},null),l["\u0275did"](7,573440,null,0,a.Gb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275eld"](8,0,null,0,1,":svg:svg",[["fill","none"],["height","13"],["viewBox","0 0 12 13"],["width","12"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M11 1H9V0H8V1H4V0H3V1H1C0.4 1 0 1.4 0 2V12C0 12.6 0.4 13 1 13H11C11.6 13 12 12.6 12 12V2C12 1.4 11.6 1 11 1ZM11 12H1V5H11V12ZM11 4H1V2H3V3H4V2H8V3H9V2H11V4Z"],["fill","#595959"],["fill-rule","evenodd"]],null,null,null,null,null)),(n()(),l["\u0275eld"](10,16777216,null,null,4,"button",[["class","ta-button btn btn-circle ml-2"],["data-cy","bp-attachments-button"],["placement","bottom"],["taButton",""],["taTooltip","Notes & Attachments"],["taType","circle"],["tooltipClass","ta-attachments-tags-tooltip"],["tooltipTheme","light"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0,o=n.component;return"focus"===e&&(i=!1!==l["\u0275nov"](n,12).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,12).onMouseLeave()&&i),"click"===e&&(i=!1!==o.onCustomItemClick("attachments","true")&&i),i}),o.U,o.k)),l["\u0275did"](11,212992,null,0,a.yb,[l.ElementRef,l.Renderer2,l.Injector,l.ComponentFactoryResolver,l.ViewContainerRef,a.zb,l.NgZone,i.DOCUMENT],{placement:[0,"placement"],tooltipClass:[1,"tooltipClass"],tooltipTheme:[2,"tooltipTheme"],taTooltip:[3,"taTooltip"]},null),l["\u0275did"](12,573440,[[1,4],["attachmentButton",4]],0,a.Gb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275eld"](13,0,null,0,1,":svg:svg",[["fill","none"],["height","24"],["viewBox","0 0 24 24"],["width","24"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),l["\u0275eld"](14,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M18.1206 13.4621L11.5379 6.87938C10.2384 5.67428 8.21868 5.71233 6.9655 6.9655C5.71233 8.21868 5.67428 10.2384 6.87938 11.5379L8.39846 13.057L9.11244 12.343L7.59335 10.8239C6.98373 10.2559 6.73279 9.40039 6.93897 8.59304C7.14515 7.7857 7.77557 7.15528 8.58292 6.9491C9.39026 6.74292 10.2458 6.99386 10.8138 7.60348L17.3965 14.1862C18.0061 14.7542 18.2571 15.6097 18.0509 16.4171C17.8447 17.2244 17.2143 17.8548 16.407 18.061C15.5996 18.2672 14.7441 18.0163 14.1761 17.4067L11.0721 14.3027C10.75 13.9824 10.6233 13.5148 10.7396 13.0758C10.8559 12.6368 11.1976 12.2932 11.6359 12.1745C12.0742 12.0557 12.5426 12.1798 12.8646 12.5L14.4697 14.1052L15.1837 13.3912C15.1837 13.3912 13.5532 11.7556 13.538 11.7506C12.6409 10.922 11.2495 10.9503 10.3866 11.8145C9.52377 12.6787 9.49776 14.0701 10.3277 14.966L13.4621 18.1206C14.7616 19.3257 16.7813 19.2877 18.0345 18.0345C19.2877 16.7813 19.3257 14.7616 18.1206 13.4621Z"],["fill","#595959"],["fill-rule","evenodd"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,2,null,f)),l["\u0275did"](16,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,i.AsyncPipe,[l.ChangeDetectorRef]),(n()(),l["\u0275eld"](18,16777216,null,null,4,"button",[["class","ta-button btn btn-circle ml-2"],["data-cy","bp-tags-button"],["placement","bottom"],["taButton",""],["taTooltip","Tags"],["taType","circle"],["tooltipClass","ta-attachments-tags-tooltip"],["tooltipTheme","light"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0,o=n.component;return"focus"===e&&(i=!1!==l["\u0275nov"](n,20).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,20).onMouseLeave()&&i),"click"===e&&(i=!1!==o.onCustomItemClick("tags","true")&&i),i}),o.U,o.k)),l["\u0275did"](19,212992,null,0,a.yb,[l.ElementRef,l.Renderer2,l.Injector,l.ComponentFactoryResolver,l.ViewContainerRef,a.zb,l.NgZone,i.DOCUMENT],{placement:[0,"placement"],tooltipClass:[1,"tooltipClass"],tooltipTheme:[2,"tooltipTheme"],taTooltip:[3,"taTooltip"]},null),l["\u0275did"](20,573440,[[2,4],["tagsButton",4]],0,a.Gb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275eld"](21,0,null,0,1,":svg:svg",[["fill","none"],["height","24"],["viewBox","0 0 24 24"],["width","24"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),l["\u0275eld"](22,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M13.26 19C12.8623 18.9997 12.481 18.8414 12.2 18.56L5.44 11.805C5.15862 11.524 5.00035 11.1427 5 10.745V6.5C5 5.67157 5.67157 5 6.5 5H10.745C11.1427 5.00035 11.524 5.15862 11.805 5.44L18.56 12.195C18.8424 12.4765 19.0012 12.8588 19.0012 13.2575C19.0012 13.6562 18.8424 14.0385 18.56 14.32L14.32 18.56C14.039 18.8414 13.6577 18.9997 13.26 19ZM8 10C8 11.1046 8.89543 12 10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10ZM9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10ZM6 6.5C6 6.22386 6.22386 6 6.5 6H10.745C10.8786 6.00055 11.0065 6.05457 11.1 6.15L17.855 12.905C18.0489 13.1 18.0489 13.415 17.855 13.61L13.61 17.855C13.415 18.0489 13.1 18.0489 12.905 17.855L6.15 11.1C6.05457 11.0065 6.00055 10.8786 6 10.745V6.5Z"],["fill","#595959"],["fill-rule","evenodd"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,2,null,m)),l["\u0275did"](24,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,i.AsyncPipe,[l.ChangeDetectorRef]),(n()(),l["\u0275eld"](26,16777216,null,null,4,"button",[["class","ta-button btn btn-circle ml-1"],["data-cy","bp-copy-button"],["placement","bottom"],["taButton",""],["taTooltip","Copy Record Link"],["taType","circle"],["tooltipClass","ta-attachments-tags-tooltip"],["tooltipTheme","light"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0,o=n.component;return"focus"===e&&(i=!1!==l["\u0275nov"](n,28).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,28).onMouseLeave()&&i),"click"===e&&(i=!1!==o.copyBPIDtoClipboard()&&i),i}),o.U,o.k)),l["\u0275did"](27,212992,null,0,a.yb,[l.ElementRef,l.Renderer2,l.Injector,l.ComponentFactoryResolver,l.ViewContainerRef,a.zb,l.NgZone,i.DOCUMENT],{placement:[0,"placement"],tooltipClass:[1,"tooltipClass"],tooltipTheme:[2,"tooltipTheme"],taTooltip:[3,"taTooltip"]},null),l["\u0275did"](28,573440,null,0,a.Gb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275eld"](29,0,null,0,1,":svg:svg",[["fill","none"],["height","24"],["style","top:5px; left:5px"],["viewBox","0 0 24 24"],["width","24"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),l["\u0275eld"](30,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M10.5006 9.0057C9.74335 9.0095 9.02877 9.35669 8.55778 9.94962L4.90695 7.66722C5.04 7.23779 5.04 6.77815 4.90695 6.34873L8.55778 4.06633C9.32289 5.01372 10.6598 5.27108 11.7219 4.67545C12.7841 4.07981 13.2617 2.80489 12.8524 1.65799C12.443 0.511089 11.2661 -0.173299 10.0668 0.0381894C8.86758 0.249678 7.99576 1.29536 8.00342 2.5131C8.00577 2.73643 8.0394 2.95834 8.1033 3.17235L4.45247 5.45474C3.79184 4.62311 2.67746 4.30034 1.67464 4.65017C0.671815 5 0 5.94588 0 7.00797C0 8.07006 0.671815 9.01595 1.67464 9.36578C2.67746 9.71561 3.79184 9.39284 4.45247 8.5612L8.1033 10.8436C8.0394 11.0576 8.00577 11.2795 8.00342 11.5028C8.00342 12.882 9.12143 14 10.5006 14C11.8797 14 12.9977 12.882 12.9977 11.5028C12.9977 10.1237 11.8797 9.0057 10.5006 9.0057ZM10.5006 1.01481C11.3281 1.01481 11.9989 1.68562 11.9989 2.5131C11.9989 3.34058 11.3281 4.01139 10.5006 4.01139C9.67308 4.01139 9.00228 3.34058 9.00228 2.5131C9.00228 1.68562 9.67308 1.01481 10.5006 1.01481ZM2.50968 8.50627C1.6822 8.50627 1.01139 7.83546 1.01139 7.00797C1.01139 6.18049 1.6822 5.50968 2.50968 5.50968C3.33716 5.50968 4.00797 6.18049 4.00797 7.00797C4.00797 7.83546 3.33716 8.50627 2.50968 8.50627ZM10.5006 13.0011C9.67308 13.0011 9.00228 12.3303 9.00228 11.5028C9.00228 10.6754 9.67308 10.0046 10.5006 10.0046C11.3281 10.0046 11.9989 10.6754 11.9989 11.5028C11.9989 12.3303 11.3281 13.0011 10.5006 13.0011Z"],["fill","#595959"],["fill-rule","evenodd"]],null,null,null,null,null))],(function(n,e){var t=e.component;n(e,2,0,t.licenses&&t.licenses.RHEA_NEW_UI_STEPS_5_LICENSE),n(e,4,0,t.licenses&&t.licenses.RHEA_NEW_UI_STEPS_5_LICENSE&&t.isIE),n(e,6,0,"bottom","ta-attachments-tags-tooltip","light","Edit Revalidation Date"),n(e,7,0,"circle"),n(e,11,0,"bottom","ta-attachments-tags-tooltip","light","Notes & Attachments"),n(e,12,0,"circle"),n(e,16,0,l["\u0275unv"](e,16,0,l["\u0275nov"](e,17).transform(t.attachmentsCount$))),n(e,19,0,"bottom","ta-attachments-tags-tooltip","light","Tags"),n(e,20,0,"circle"),n(e,24,0,l["\u0275unv"](e,24,0,l["\u0275nov"](e,25).transform(t.tagsCount$))),n(e,27,0,"bottom","ta-attachments-tags-tooltip","light","Copy Record Link"),n(e,28,0,"circle")}),(function(n,e){n(e,5,0,l["\u0275nov"](e,7).className),n(e,10,0,l["\u0275nov"](e,12).className),n(e,18,0,l["\u0275nov"](e,20).className),n(e,26,0,l["\u0275nov"](e,28).className)}))}function b(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"span",[["aria-hidden","true"],["class","spinner-border spinner-border-sm ml-auto text-secondary"],["role","status"]],null,null,null,null,null))],null,null)}function C(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,20,"div",[["class","d-flex justify-content-end"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"div",[["class","w-75"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,2,"ul",[["class","nav nav-segment justify-content-start"],["data-cy","bp-wizard-navigation"],["role","tablist"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,p)),l["\u0275did"](4,278528,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,v)),l["\u0275did"](6,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](7,0,null,null,13,"div",[["class","position-relative d-flex justify-content-start status-container"],["style","width: 160px;"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,12,"form",[["class","position-absolute"],["novalidate",""],["style","top: -5px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0;return"submit"===e&&(i=!1!==l["\u0275nov"](n,10).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,10).onReset()&&i),i}),null,null)),l["\u0275did"](9,16384,null,0,u.x,[],null,null),l["\u0275did"](10,540672,null,0,u.k,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,u.b,null,[u.k]),l["\u0275did"](12,16384,null,0,u.r,[[4,u.b]],null,null),(n()(),l["\u0275eld"](13,0,null,null,7,"ta-dropdown-field",[["data-cy","bp-owner-status"],["formControlName","status"],["optionLabel","name"]],[[2,"multiple-value-dropdown",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selectedItemChanged"]],(function(n,e,t){var l=!0;return"selectedItemChanged"===e&&(l=!1!==n.component.bpStatusChange()&&l),l}),s.b,s.a)),l["\u0275did"](14,49152,null,0,r.a,[],{optionLabel:[0,"optionLabel"],useInfiniteScroll:[1,"useInfiniteScroll"],isDisabled:[2,"isDisabled"],options:[3,"options"],selectedOption:[4,"selectedOption"]},{selectedItemChanged:"selectedItemChanged"}),l["\u0275prd"](1024,null,u.o,(function(n){return[n]}),[r.a]),l["\u0275did"](16,671744,null,0,u.i,[[3,u.b],[8,null],[8,null],[6,u.o],[2,u.z]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,u.p,null,[u.i]),l["\u0275did"](18,16384,null,0,u.q,[[4,u.p]],null,null),(n()(),l["\u0275and"](16777216,null,0,1,null,b)),l["\u0275did"](20,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,4,0,t.businessProcessNavigation),n(e,6,0,t.licenses&&!0===t.licenses.RHEA_NEW_UI_STEPS_12_LICENSE),n(e,10,0,t.statusForm),n(e,14,0,"name",!0,t.isShowingSpinner,t.bpStatuses,t.statusForm.get("status").value),n(e,16,0,"status"),n(e,20,0,t.isShowingSpinner)}),(function(n,e){n(e,8,0,l["\u0275nov"](e,12).ngClassUntouched,l["\u0275nov"](e,12).ngClassTouched,l["\u0275nov"](e,12).ngClassPristine,l["\u0275nov"](e,12).ngClassDirty,l["\u0275nov"](e,12).ngClassValid,l["\u0275nov"](e,12).ngClassInvalid,l["\u0275nov"](e,12).ngClassPending),n(e,13,0,l["\u0275nov"](e,14).isMultiple,l["\u0275nov"](e,18).ngClassUntouched,l["\u0275nov"](e,18).ngClassTouched,l["\u0275nov"](e,18).ngClassPristine,l["\u0275nov"](e,18).ngClassDirty,l["\u0275nov"](e,18).ngClassValid,l["\u0275nov"](e,18).ngClassInvalid,l["\u0275nov"](e,18).ngClassPending)}))}function y(n){return l["\u0275vid"](0,[l["\u0275qud"](671088640,1,{attachmentButton:0}),l["\u0275qud"](671088640,2,{tagsButton:0}),(n()(),l["\u0275eld"](2,0,null,null,13,"ol",[["class","breadcrumb mb-2"],["data-cy","bp-name-navigatino"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,4,"li",[["class","breadcrumb-item"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,1,"a",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.onClickStep("home")&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Data Inventory Hub "])),(n()(),l["\u0275eld"](6,0,null,null,1,"ta-icon",[["height","8"],["icon","caret-right"]],[[4,"color",null],[8,"className",0]],null,null,o.db,o.t)),l["\u0275did"](7,114688,null,0,a.Tb,[],{height:[0,"height"],icon:[1,"icon"]},null),(n()(),l["\u0275eld"](8,0,null,null,4,"li",[["class","breadcrumb-item"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,1,"a",[["data-cy","top-nav-all-business-process"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.onClickStep("home")&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Business Processes "])),(n()(),l["\u0275eld"](11,0,null,null,1,"ta-icon",[["height","8"],["icon","caret-right"]],[[4,"color",null],[8,"className",0]],null,null,o.db,o.t)),l["\u0275did"](12,114688,null,0,a.Tb,[],{height:[0,"height"],icon:[1,"icon"]},null),(n()(),l["\u0275eld"](13,0,null,null,2,"li",[["class","breadcrumb-item"]],null,null,null,null,null)),(n()(),l["\u0275eld"](14,0,null,null,1,"strong",[["data-cy","top-nav-business-process-name"]],null,null,null,null,null)),(n()(),l["\u0275ted"](15,null,["",""])),(n()(),l["\u0275eld"](16,0,null,null,1,"h5",[["class","mb-2"]],null,null,null,null,null)),(n()(),l["\u0275ted"](17,null,["",""])),(n()(),l["\u0275and"](16777216,null,null,1,null,C)),l["\u0275did"](19,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,7,0,"8","caret-right"),n(e,12,0,"8","caret-right"),n(e,19,0,t.currentRoute)}),(function(n,e){var t=e.component;n(e,6,0,l["\u0275nov"](e,7).color,l["\u0275nov"](e,7).className),n(e,11,0,l["\u0275nov"](e,12).color,l["\u0275nov"](e,12).className),n(e,15,0,t.bpName),n(e,17,0,t.bpName)}))}},PTJf:function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var l=t("26FU"),i=t("CcnG"),o=function(){function n(){this.getBpName=new l.a("Untitled")}return n.ngInjectableDef=i.defineInjectable({factory:function(){return new n},token:n,providedIn:"root"}),n}()},"PW+A":function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){return function(){}}()},PlHd:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){return function(){}}()},Sjbp:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){return function(){}}()},Vx3I:function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));var l=t("CcnG"),i=(t("tVSN"),function(){function n(n,e){this.fileUploadService=n,this.toastService=e,this.fileSelected=new l.EventEmitter,this.id="file_upload",this.fileRestriction="",this.maxFileSize=16e6,this.draggingOver=!1,this.propagateChange=function(n){}}return Object.defineProperty(n.prototype,"maxFileSizeAllowed",{get:function(){return this.maxFileSize/1e6+" MB"},enumerable:!0,configurable:!0}),n.prototype.registerOnChange=function(n){this.propagateChange=n},n.prototype.registerOnTouched=function(){},n.prototype.writeValue=function(n){n&&(this.files=n)},n.prototype.onDragOver=function(n){n.preventDefault(),this.draggingOver=!0},n.prototype.onDragLeave=function(n){n.preventDefault(),this.draggingOver=!1},n.prototype.selectFiles=function(n){var e=this;this.propagateChange(n);var t=[],l=Array.from(n);l.forEach((function(i,o){e.fileUploadService.isValidExtension(i)&&e.fileUploadService.isValidFileSize(i,e.maxFileSize)?e.fileSelected.emit(i):(e.fileUploadService.isValidFileSize(i,e.maxFileSize)||e.toastService.error("Error: Files larger than "+e.maxFileSizeAllowed+" cannot be uploaded"),e.fileUploadService.isValidExtension(i)||e.toastService.error("Error: Invalid file type"),t.push(n[o]),l.splice(o,1))})),this.fileUploadService.addInvalidFiles(t)},n.prototype.restrictFileTypeUpload=function(n,e,t){var l=this,i=0;Object.keys(n).map((function(e){(function(n){if(n.type)return[l.fileRestriction,"application/vnd.ms-excel"].includes(n.type);var e=n.name.split(".")[1],t=l.fileRestriction.split("/")[1];return e.toLowerCase()===t.toLowerCase()})(n[e])||(i++,t())})),i<Object.keys(n).length&&e()},n.prototype.onDrop=function(n){var e=this,t=n.dataTransfer.files;n.preventDefault(),this.onDragLeave(n),this.fileRestriction?this.restrictFileTypeUpload(t,(function(){return e.selectFiles(t)}),(function(){return e.toastService.error("Error: Import functionality only supports .csv file format.")})):this.selectFiles(t)},n.prototype.onFileSelected=function(n){var e=this,t=Array.from(n.target.files);this.fileRestriction?this.restrictFileTypeUpload(t,(function(){return e.selectFiles(t)}),(function(){e.fileUploadInput.nativeElement.value="",e.toastService.error("Error: Import functionality only supports .csv file format.")})):this.selectFiles(t)},n}())},WhUT:function(n,e,t){"use strict";t.d(e,"a",(function(){return i})),t("q05c");var l=t("aqxI"),i=function(){function n(n,e,t,l,i){this.controlContainer=n,this.formBuilder=e,this.toastService=t,this.modalService=l,this.baseRecordFileUploadService=i,this.fileForms=this.formBuilder.array([]),i.setFileUploadFormArray(this.fileForms)}return n.prototype.ngOnInit=function(){this.fileUploadFormGroup=this.controlContainer.control,this.fileUploadFormGroup.registerControl("fileForms",this.fileForms),this.countOfUploadedFiles=this.baseRecordFileUploadService.countOfUploadedFiles,this.countOfFilesPendingUpload=this.baseRecordFileUploadService.countOfFilesPendingUpload},n.prototype.addFileForm=function(n){this.baseRecordFileUploadService.addFileForm(n)},n.prototype.downloadFileFrom=function(n){var e=this,t=n.get("id").value,l=n.get("fileName").value;this.baseRecordFileUploadService.downloadFile(t).subscribe((function(n){window.open(n.fileUrl,"_blank")}),(function(n){e.toastService.error('Error retrieving file with filename "'+l+'"')}))},n.prototype.deleteFile=function(n,e){var t=this,i=n.value.fileName+"?",o=this.modalService.open(l.a,{ariaLabelledBy:"modal-basic-title",size:"sm"});o.componentInstance.title="Delete "+i,o.componentInstance.type="delete",o.componentInstance.icon="delete",o.componentInstance.description="You cannot undo this action.",o.componentInstance.btnLabelConfirm="Delete",o.componentInstance.confirm.subscribe((function(n){t.baseRecordFileUploadService.removeFile(e),o.close("deleted")})),o.componentInstance.cancel.subscribe((function(n){o.close("canceled")}))},n.prototype.isFileStatusVisible=function(n){return this.baseRecordFileUploadService.isFileStatusVisible(n)},n.prototype.isFileStatusPendingUpload=function(n){return this.baseRecordFileUploadService.isFileStatusPendingUpload(n)},n.prototype.isFileStatusError=function(n){return this.baseRecordFileUploadService.isFileStatusError(n)},n}()},YKkH:function(n,e,t){"use strict";var l=t("CcnG"),i=t("twgh"),o=t("gIcY"),a=t("Vx3I"),u=t("tVSN"),s=t("1ut8"),r=t("Ip0R"),c=t("tr7A");t("WhUT"),t("q05c"),t.d(e,"a",(function(){return d})),t.d(e,"b",(function(){return y}));var d=l["\u0275crt"]({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{font-size:.875rem}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:0!important;box-shadow:none!important}strong[_ngcontent-%COMP%]{font-weight:500}input[_ngcontent-%COMP%]::-ms-clear{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-ms-reveal{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-webkit-search-cancel-button, input[_ngcontent-%COMP%]::-webkit-search-decoration, input[_ngcontent-%COMP%]::-webkit-search-results-button, input[_ngcontent-%COMP%]::-webkit-search-results-decoration{display:none}[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   .remove-file[_ngcontent-%COMP%]{position:absolute;right:0}[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   .blank-area[_ngcontent-%COMP%]{padding-top:24px;padding-bottom:24px;border:none;border-radius:4px;background-color:#fff}[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   .blank-area[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;color:#595959}[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{position:relative;left:50%;color:#064676!important}[_nghost-%COMP%]   .file-name[_ngcontent-%COMP%]{margin-right:10px}"]],data:{}});function p(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"span",[["aria-hidden","true"],["class","spinner-border spinner-border-sm ml-auto text-secondary"],["role","deleting"]],null,null,null,null,null))],null,null)}function g(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"ta-file-upload",[["class","d-block"],["linkText","browse files"],["text","Drag & drop your files to attach or"]],null,[[null,"fileSelected"]],(function(n,e,t){var l=!0;return"fileSelected"===e&&(l=!1!==n.component.addFileForm(t)&&l),l}),i.b,i.a)),l["\u0275prd"](5120,null,o.o,(function(n){return[n]}),[a.a]),l["\u0275did"](2,49152,null,0,a.a,[u.a,s.Fb],{text:[0,"text"],linkText:[1,"linkText"]},{fileSelected:"fileSelected"})],(function(n,e){n(e,2,0,"Drag & drop your files to attach or","browse files")}),null)}function h(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"span",[["class","file-attachment-summary"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[", files currently uploading (",") "])),l["\u0275pid"](131072,r.AsyncPipe,[l.ChangeDetectorRef])],null,(function(n,e){var t=e.component;n(e,1,0,l["\u0275unv"](e,1,0,l["\u0275nov"](e,2).transform(t.countOfFilesPendingUpload)))}))}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","blank-area text-center"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["No Files Attached"]))],null,null)}function m(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" The comment must be less than 1024 characters. "]))],null,null)}function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" "," "]))],null,(function(n,e){var t=e.parent.parent.context.$implicit.get("errorMessage").value?e.parent.parent.context.$implicit.get("errorMessage").value:"This file could not be uploaded. Make sure this is a valid file, and less than 16MB.";n(e,1,0,t)}))}function b(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,22,"div",[["class","form-group d-block"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,19,"div",[["class","d-block"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l["\u0275did"](2,212992,null,0,o.l,[[3,o.b],[8,null],[8,null]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,o.b,null,[o.l]),l["\u0275did"](4,16384,null,0,o.r,[[4,o.b]],null,null),(n()(),l["\u0275eld"](5,0,null,null,3,"button",[["class","remove-file"],["taButton",""],["taType","circle"],["title","Delete this file"],["type","button"]],[[8,"disabled",0],[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,e,t){var i=!0,o=n.component;return"focus"===e&&(i=!1!==l["\u0275nov"](n,6).onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==l["\u0275nov"](n,6).onMouseLeave()&&i),"click"===e&&(i=!1!==o.deleteFile(n.parent.context.$implicit,n.parent.context.index)&&i),i}),c.U,c.k)),l["\u0275did"](6,573440,null,0,s.Gb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275eld"](7,0,null,0,1,"ta-icon",[["icon","delete"]],[[4,"color",null],[8,"className",0]],null,null,c.db,c.t)),l["\u0275did"](8,114688,null,0,s.Tb,[],{icon:[0,"icon"]},null),(n()(),l["\u0275eld"](9,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),l["\u0275eld"](10,0,null,null,1,"label",[["class","file-name"]],[[8,"htmlFor",0]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.downloadFileFrom(n.parent.context.$implicit)&&l),l}),null,null)),(n()(),l["\u0275ted"](11,null,["",""])),(n()(),l["\u0275ted"](12,null,[" "," "])),(n()(),l["\u0275eld"](13,0,null,null,5,"input",[["class","form-control"],["formControlName","comment"],["placeholder","Comment for this attachment..."],["type","text"]],[[8,"id",0],[8,"name",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0;return"input"===e&&(i=!1!==l["\u0275nov"](n,14)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,14).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,14)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,14)._compositionEnd(t.target.value)&&i),i}),null,null)),l["\u0275did"](14,16384,null,0,o.c,[l.Renderer2,l.ElementRef,[2,o.a]],null,null),l["\u0275prd"](1024,null,o.o,(function(n){return[n]}),[o.c]),l["\u0275did"](16,671744,null,0,o.i,[[3,o.b],[8,null],[8,null],[6,o.o],[2,o.z]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,o.p,null,[o.i]),l["\u0275did"](18,16384,null,0,o.q,[[4,o.p]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,m)),l["\u0275did"](20,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,v)),l["\u0275did"](22,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,2,0,e.parent.context.index),n(e,6,0,"circle"),n(e,8,0,"delete"),n(e,16,0,"comment");var l=null==e.parent.context.$implicit.get("comment").errors?null:e.parent.context.$implicit.get("comment").errors.maxlength;n(e,20,0,l),n(e,22,0,t.isFileStatusError(e.parent.context.$implicit))}),(function(n,e){var t=e.component;n(e,1,0,l["\u0275nov"](e,4).ngClassUntouched,l["\u0275nov"](e,4).ngClassTouched,l["\u0275nov"](e,4).ngClassPristine,l["\u0275nov"](e,4).ngClassDirty,l["\u0275nov"](e,4).ngClassValid,l["\u0275nov"](e,4).ngClassInvalid,l["\u0275nov"](e,4).ngClassPending),n(e,5,0,t.isFileStatusPendingUpload(e.parent.context.$implicit),l["\u0275nov"](e,6).className),n(e,7,0,l["\u0275nov"](e,8).color,l["\u0275nov"](e,8).className);var i=l["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.get("id").value,"");n(e,10,0,i);var o=e.parent.context.$implicit.get("fileName").value;n(e,11,0,o),n(e,12,0,t.isFileStatusPendingUpload(e.parent.context.$implicit)?"Uploading...":"");var a=l["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.get("id").value,""),u=l["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.get("id").value,"");n(e,13,0,a,u,l["\u0275nov"](e,18).ngClassUntouched,l["\u0275nov"](e,18).ngClassTouched,l["\u0275nov"](e,18).ngClassPristine,l["\u0275nov"](e,18).ngClassDirty,l["\u0275nov"](e,18).ngClassValid,l["\u0275nov"](e,18).ngClassInvalid,l["\u0275nov"](e,18).ngClassPending)}))}function C(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,null,null,null,null,null,null,null)),l["\u0275did"](1,212992,null,0,o.e,[[3,o.b],[8,null],[8,null]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,o.b,null,[o.e]),l["\u0275did"](3,16384,null,0,o.r,[[4,o.b]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,b)),l["\u0275did"](5,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](0,null,null,0))],(function(n,e){var t=e.component;n(e,1,0,"fileForms"),n(e,5,0,t.isFileStatusVisible(e.context.$implicit))}),null)}function y(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,21,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0;return"submit"===e&&(i=!1!==l["\u0275nov"](n,2).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,2).onReset()&&i),i}),null,null)),l["\u0275did"](1,16384,null,0,o.x,[],null,null),l["\u0275did"](2,540672,null,0,o.k,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,o.b,null,[o.k]),l["\u0275did"](4,16384,null,0,o.r,[[4,o.b]],null,null),(n()(),l["\u0275eld"](5,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,p)),l["\u0275did"](7,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,g)),l["\u0275did"](9,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](10,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](11,0,null,null,2,"span",[["class","file-attachment-summary"]],null,null,null,null,null)),(n()(),l["\u0275ted"](12,null,[" Files attached to this record (",") "])),l["\u0275pid"](131072,r.AsyncPipe,[l.ChangeDetectorRef]),(n()(),l["\u0275and"](16777216,null,null,2,null,h)),l["\u0275did"](15,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,r.AsyncPipe,[l.ChangeDetectorRef]),(n()(),l["\u0275and"](16777216,null,null,2,null,f)),l["\u0275did"](18,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,r.AsyncPipe,[l.ChangeDetectorRef]),(n()(),l["\u0275and"](16777216,null,null,1,null,C)),l["\u0275did"](21,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){var t=e.component;n(e,2,0,t.fileUploadFormGroup),n(e,7,0,t.isDeletingFile),n(e,9,0,!t.isDeletingFile),n(e,15,0,l["\u0275unv"](e,15,0,l["\u0275nov"](e,16).transform(t.countOfFilesPendingUpload))>0),n(e,18,0,0===l["\u0275unv"](e,18,0,l["\u0275nov"](e,19).transform(t.countOfUploadedFiles))),n(e,21,0,t.fileUploadFormGroup.get("fileForms").controls)}),(function(n,e){var t=e.component;n(e,0,0,l["\u0275nov"](e,4).ngClassUntouched,l["\u0275nov"](e,4).ngClassTouched,l["\u0275nov"](e,4).ngClassPristine,l["\u0275nov"](e,4).ngClassDirty,l["\u0275nov"](e,4).ngClassValid,l["\u0275nov"](e,4).ngClassInvalid,l["\u0275nov"](e,4).ngClassPending),n(e,12,0,l["\u0275unv"](e,12,0,l["\u0275nov"](e,13).transform(t.countOfUploadedFiles)))}))}},YPog:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){return function(){}}()},fA5a:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){function n(){}return n.prototype.transform=function(n,e,t){if(!e||!e.length)return n;var l=[],i=e.toLowerCase().trim()||"";return n.forEach((function(n){var e=t?n[t]:n.tag;-1!==(e?e.toLowerCase().trim():"").indexOf(i)&&l.push(n)})),l},n}()},iq6R:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){return function(){}}()},kQEY:function(n,e,t){"use strict";t.d(e,"a",(function(){return p}));var l=t("26FU"),i=t("F/XL"),o=t("XlPw"),a=t("67Y/"),u=t("HnLW"),s=t("HcYG"),r=t("FPqJ"),c=t("CcnG"),d=t("t/Na"),p=function(){function n(n,e){this.httpClient=n,this.httpUtilsService=e,this.typeToUrlMap={},this.typeToUrlMap[r.a.BusinessProcess]="/api/hub/tags/business-processes",this.typeToUrlMap[r.a.CompanyEntity]="/api/hub/tags/company-entities",this.typeToUrlMap[r.a.ItSystem]="/api/hub/tags/it-systems",this.typeToUrlMap[r.a.ThirdParty]="/api/tags/third-parties",this.versionAfterUpdateTags=new l.a(0)}return n.prototype.getTags=function(n){return n?Object(s.i)(n)?Object(o.a)("Invalid ID: "+n):this.httpClient.get("/api/hub/base-records/"+n+"/tags",{}).pipe(Object(a.a)((function(n){return n.tags}))):Object(i.a)([])},n.prototype.putTags=function(n,e){return n?Object(s.i)(n)?Object(o.a)("Invalid ID: "+n):this.httpClient.put("/api/hub/base-records/"+n+"/tags",{tags:e}):Object(i.a)({})},n.prototype.getAllTags=function(n,e){void 0===e&&(e=!1);var t=this.typeToUrlMap[n];return e&&(t+="?flatten=false&includeChild=true"),t?this.httpClient.get(t,{}):Object(i.a)([])},n.ngInjectableDef=c.defineInjectable({factory:function(){return new n(c.inject(d.c),c.inject(u.a))},token:n,providedIn:"root"}),n}()},pQz8:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){return function(){}}()},tR8B:function(n,e,t){"use strict";t.d(e,"a",(function(){return m}));var l=t("mrSG"),i=t("CcnG"),o=t("9tKR"),a=t("26FU"),u=t("+umK"),s=(t("PTJf"),t("5L+J")),r=t("M4jF"),c=(t("54QL"),t("fTqk")),d=t("XvOt"),p=(t("ElT0"),t("kQEY"),t("gIcY")),g=t("sHcm"),h=(t("1TgF"),t("dkQB")),f=[{id:"DRAFT",name:"Draft"},{id:"IN_REVIEW",name:"In review"},{id:"PUBLISH",name:"Publish"},{id:"REVISE",name:"Revise"}],m=function(){function n(n,e,t,l,u,s,r,c,g,m,v,b,C){this.businessProcessWizardService=n,this.modalService=e,this.activatedRoute=t,this.router=l,this.featureFlagControllerService=u,this.attachmentService=s,this.businessProcessControllerService=r,this.baseRecordsControllerService=c,this.createBusinessProcessesService=g,this.formBuilder=m,this.clipboardService=v,this.toastService=b,this.taModal=C,this.classes="bg-white pl-3 pr-3 pt-0 pb-2 d-block",this.record={name:"Untitled"},this.attachmentsCount=new a.a(0),this.attachmentsCount$=this.attachmentsCount.asObservable(),this.tagsCount=new a.a(0),this.tagsCount$=this.tagsCount.asObservable(),this.businessProcessNavigation=o.a,this.dataFlowView=h.b,this.isClickSteps=new i.EventEmitter,this.viewUpdated=new i.EventEmitter,this.customItemClicked=new i.EventEmitter,this.bpStatuses=f,this.status=new p.g(""),this.statusForm=m.group({status:this.status}),this.isIE=!d.a.isIE()}return n.prototype.ngOnInit=function(){var n=this;this.getFeatureLicenses(),this.isShowingSpinner=!1,this._bpName$=this.businessProcessWizardService.getBpName.subscribe((function(e){n.bpName=e}),u.a),this._bpId$=this.activatedRoute.parent.params?this.activatedRoute.parent.params.subscribe((function(e){n.businessProcessId=e.id})):null,this.loadBusinessProcessDetail(),this.loadAttachmentsCount(),this.loadTagsCount()},n.prototype.ngOnDestroy=function(){},n.prototype.getFeatureLicenses=function(){var n=this;d.a.unSubscribe(this._featuresLicense$),this._featuresLicense$=this.featureFlagControllerService.getAllFeatureFlags().subscribe((function(e){n.licenses=e}))},n.prototype.isVisible=function(n){return!!this.licenses&&(!n.includes("data-flow")||this.licenses.RHEA_NEW_UI_STEPS_5_LICENSE&&"build-data-flow"===n||!this.licenses.RHEA_NEW_UI_STEPS_5_LICENSE&&"data-flow"===n)},n.prototype.onClickStep=function(n){this.isClickSteps.emit(n)},n.prototype.onCustomItemClick=function(n,e){this.customItemClicked.emit({itemName:n,state:e}),"attachments"===n&&this.openNotesAndAttachmentsModal(),"tags"===n&&this.openTagsModal()},n.prototype.loadBusinessProcessDetail=function(){var n=this;d.a.unSubscribe(this._loadBPDetail$),this._loadBPDetail$=this.businessProcessControllerService.getBusinessProcessDetails(this.businessProcessId).subscribe((function(e){n.businessProcessWizardService.getBpName.next(e.name)})),this.getBusinessProcessStatus()},n.prototype.loadAttachmentsCount=function(){var n=this;this.businessProcessId&&(d.a.unSubscribe(this._attachmentsInfo$),this._attachmentsInfo$=this.attachmentService.getAttachments(this.businessProcessId).subscribe((function(e){n.attachmentsCount.next(e.length)})))},n.prototype.openNotesAndAttachmentsModal=function(){var n=this,e=this.modalService.open(s.a);e.componentInstance.businessProcessId=this.businessProcessId,e.result.then((function(e){n.attachmentsUpdated(e),n.attachmentButton.el.nativeElement.blur()}),(function(e){n.modalError(e),n.attachmentButton.el.nativeElement.blur()}))},n.prototype.attachmentsUpdated=function(n){this.attachmentsCount.next(n)},n.prototype.copyBPIDtoClipboard=function(){window&&window.location.href&&(this.clipboardService.copyFromContent(window.location.href),this.toastService.success("Record link copied to clipboard.",null,1e4))},n.prototype.openEditRevalidationDateModal=function(){var n=this,e=this.taModal.open(g.a,{windowClass:"ta-modal-revalidation-date-edit",backdrop:"static",keyboard:!0,size:"md"}),t=this.licenses.ALERT_NOTIFICATION,l=void 0!==t&&t;e.componentInstance.baseRecordId=this.businessProcessId,e.componentInstance.alertsEnabled=!0===l,e.result.then((function(){n.toastService.success("Successfully updated revalidation date")}),(function(n){}))},n.prototype.modalError=function(n){n&&console.error(n)},n.prototype.getBusinessProcessStatus=function(){var n=this;this.isShowingSpinner=!0,d.a.unSubscribe(this._getStatus$),this._getStatus$=this.businessProcessControllerService.getBusinessProcessStatus(this.businessProcessId).subscribe((function(e){var t=n.bpStatuses.find((function(n){return n.id===e.status}));n.statusForm.get("status").patchValue(t.name),n.selectedStatus=e,n.isShowingSpinner=!1}),(function(e){console.error(e),n.isShowingSpinner=!0}))},n.prototype.bpStatusChange=function(){var n=this;this.isShowingSpinner=!0,this.selectedStatus.status=this.statusForm.get("status").value.id,d.a.unSubscribe(this._updateStatus$),this._updateStatus$=this.businessProcessControllerService.putBusinessProcessStatus(this.businessProcessId,this.selectedStatus).subscribe((function(e){n.isShowingSpinner=!1,n.businessProcessControllerService.versionAfterUpdateStatus.next({version:e.version,status:n.selectedStatus.status})}),(function(e){console.error(e),n.isShowingSpinner=!1}))},n.prototype.loadTagsCount=function(){var n=this;this.businessProcessId&&(d.a.unSubscribe(this._tagsInfo$),this._tagsInfo$=this.baseRecordsControllerService.getTags(this.businessProcessId).subscribe((function(e){n.tagsCount.next(n.getTagsCount(e))})))},n.prototype.openTagsModal=function(){var n=this,e=this.modalService.open(r.a);e.componentInstance.businessProcessId=this.businessProcessId,e.result.then((function(e){n.tagsUpdate(e),n.tagsButton.el.nativeElement.blur()}),(function(e){n.modalError(e),n.tagsButton.el.nativeElement.blur()}))},n.prototype.tagsUpdate=function(n){this.tagsCount.next(n)},n.prototype.getTagsCount=function(n){return n.length>0?n.reduce((function(n,e){return n+e.values.length}),0):0},n.prototype.onClickView=function(n){this.createBusinessProcessesService.setDataFlowView(n),this.viewUpdated.emit({step:"build-data-flow",view:n})},Object(l.b)([Object(c.a)(["_attachmentsInfo$","_bpName$","_bpId$","_loadBPDetail$","_tagsInfo$","_getStatus$","_updateStatus$"])],n)}()},tVSN:function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var l=t("K9Ia"),i=t("CcnG"),o=function(){function n(){this.subject=new l.a}return n.prototype.addInvalidFiles=function(n){this.subject.next(n)},n.prototype.getInvalidFiles=function(){return this.subject.pipe()},n.prototype.isValidFileSize=function(n,e){return n.size<e},n.prototype.isValidExtension=function(n){return this.isJpgFile(n)||this.isPngFile(n)||this.isGifFile(n)||this.isCsvFile(n)||this.isZipFile(n)||this.isTxtFile(n)||this.isMicroSoftFile(n)||this.isRtfFile(n)||this.isPdfFile(n)||this.isCssFile(n)||this.isJsFile(n)||this.isHtmlFile(n)||this.isCodeFile(n)},n.prototype.checkFileWith=function(n,e,t){var l=t.name.split(".").pop().toLowerCase(),i=(""===t.type||0===n.length)&&e.includes(l),o=t.type&&n.includes(t.type);return i||o},n.prototype.isJpgFile=function(n){return this.checkFileWith(["image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/pjpeg","image/pipeg","image/vnd.swiftview-jpeg","image/x-xbitmap"],["jpg","jpeg"],n)},n.prototype.isPngFile=function(n){return this.checkFileWith(["image/png","application/png","application/x-png"],["png"],n)},n.prototype.isGifFile=function(n){return this.checkFileWith(["image/gif","image/x-xbitmap","image/gi_"],["gif"],n)},n.prototype.isCsvFile=function(n){return this.checkFileWith(["text/comma-separated-values","text/csv","application/csv","application/excel","application/vnd.ms-excel","application/vnd.msexcel","text/anytext"],["csv"],n)},n.prototype.isZipFile=function(n){return this.checkFileWith(["application/zip","application/x-zip","application/x-zip-compressed","application/octet-stream","application/x-compress","application/x-compressed","multipart/x-zip"],["zip"],n)},n.prototype.isTxtFile=function(n){return this.checkFileWith(["text/plain","application/txt","browser/internal","text/anytext","widetext/plain","widetext/paragraph"],["txt"],n)},n.prototype.isMicroSoftFile=function(n){return this.checkFileWith(["application/vnd.ms-excel [official]","application/msexcel","application/x-msexcel","application/x-ms-excel","application/vnd.ms-excel","application/x-excel","application/x-dos_ms_excel","application/xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/msword [official]","application/doc","appl/text","application/vnd.msword","application/vnd.ms-word","application/winword","application/word","application/x-msw6","application/x-msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-powerpoint [official]","application/mspowerpoint","application/ms-powerpoint","application/mspowerpnt","application/vnd-mspowerpoint","application/powerpoint","application/x-powerpoint","application/x-m","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/x-mspublisher"],["xsl","xlsx","doc","docx","ppt","pptx","pub","xps"],n)},n.prototype.isRtfFile=function(n){return this.checkFileWith(["application/rtf","application/x-rtf","text/rtf","text/richtext","application/msword","application/doc","application/x-soffice"],["rtf"],n)},n.prototype.isPdfFile=function(n){return this.checkFileWith(["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf"],["pdf"],n)},n.prototype.isCssFile=function(n){return this.checkFileWith(["text/css","application/css-stylesheet"],["css"],n)},n.prototype.isJsFile=function(n){return this.checkFileWith(["application/x-javascript","text/javascript"],["js"],n)},n.prototype.isHtmlFile=function(n){return this.checkFileWith(["text/html","text/plain"],["html"],n)},n.prototype.isCodeFile=function(n){return this.checkFileWith([],["php","ts"],n)},n.ngInjectableDef=i.defineInjectable({factory:function(){return new n},token:n,providedIn:"root"}),n}()},twgh:function(n,e,t){"use strict";var l=t("CcnG"),i=t("Ip0R");t("gIcY"),t("Vx3I"),t("tVSN"),t("1ut8"),t.d(e,"a",(function(){return o})),t.d(e,"b",(function(){return a}));var o=l["\u0275crt"]({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{font-size:.875rem}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:0!important;box-shadow:none!important}strong[_ngcontent-%COMP%]{font-weight:500}input[_ngcontent-%COMP%]::-ms-clear{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-ms-reveal{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-webkit-search-cancel-button, input[_ngcontent-%COMP%]::-webkit-search-decoration, input[_ngcontent-%COMP%]::-webkit-search-results-button, input[_ngcontent-%COMP%]::-webkit-search-results-decoration{display:none}#file-upload[_ngcontent-%COMP%]{border:2px dashed #c2c2c2;border-radius:4px;text-align:center;padding:20px 10px}#file-upload.dragging-over[_ngcontent-%COMP%]{background:#e6eefa;border:2px dashed rgba(0,0,0,.3)}#file-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:0}#file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}"]],data:{}});function a(n){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{fileUploadInput:0}),(n()(),l["\u0275eld"](1,0,null,null,6,"div",[["class","drop-zone"],["id","file-upload"]],null,[[null,"dragover"],[null,"dragleave"],[null,"drop"]],(function(n,e,t){var l=!0,i=n.component;return"dragover"===e&&(l=!1!==i.onDragOver(t)&&l),"dragleave"===e&&(l=!1!==i.onDragLeave(t)&&l),"drop"===e&&(l=!1!==i.onDrop(t)&&l),l}),null,null)),l["\u0275did"](2,278528,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{"dragging-over":0}),(n()(),l["\u0275ted"](4,null,[" "," "])),(n()(),l["\u0275eld"](5,0,null,null,1,"label",[["class","link"]],[[8,"htmlFor",0]],null,null,null,null)),(n()(),l["\u0275ted"](6,null,["",""])),(n()(),l["\u0275eld"](7,0,[[1,0],["fileUploadInput",1]],null,0,"input",[["type","file"]],[[8,"id",0],[8,"accept",0]],[[null,"change"]],(function(n,e,t){var l=!0;return"change"===e&&(l=!1!==n.component.onFileSelected(t)&&l),l}),null,null))],(function(n,e){var t=n(e,3,0,e.component.draggingOver);n(e,2,0,"drop-zone",t)}),(function(n,e){var t=e.component;n(e,4,0,t.text),n(e,5,0,l["\u0275inlineInterpolate"](1,"",t.id,"")),n(e,6,0,t.linkText),n(e,7,0,l["\u0275inlineInterpolate"](1,"",t.id,""),t.fileRestriction)}))}},vUL0:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){return function(){}}()},wCrf:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var l=function(){return function(){}}()}}]);